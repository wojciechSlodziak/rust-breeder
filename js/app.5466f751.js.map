{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/services/screen-capture/screen-capture.service.ts","webpack:///./src/components/Ads.vue?4843","webpack:///./src/components/CookieConsent.vue?1332","webpack:///./src/components/SaplingGeneRepresentation.vue?1ce2","webpack:///./src/components/CrossbreedingSimulator.vue?d9a0","webpack:///./src/components/HighlightedMap.vue?9c31","webpack:///./src/components/SaplingListPreview.vue?3249","webpack:///./src/components/GeneInputs.vue?15f0","webpack:///./src/components/ProgressIndicator.vue?b7e2","webpack:///./src/services/crossbreeding-service/chunks.worker.ts","webpack:///./src/App.vue?c650","webpack:///./src/services/crossbreeding-service/crossbreeding.worker.ts","webpack:///./src/components/SaplingScreenCapture.vue?aa45","webpack:///./src/components/SimulationMap.vue?7b75","webpack:///./src/components/SimulationMapGroup.vue?e466","webpack:///./src/components/SaplingDetailed.vue?b601","webpack:///./src/components/SaplingScreenCapture.vue?394f","webpack:///./src/components/SimulationResults.vue?77c0","webpack:///./src/components/PreviousGenes.vue?9340","webpack:///./src/components/LogoSelector.vue?8593","webpack:///./src/components/SaplingScreenCapturePreview.vue?1d3e","webpack:///./src/components/SaplingListNumbering.vue?8ec0","webpack:///./src/components/GeneInputs.vue?374e","webpack:///./src/components/SaplingInputHighlights.vue?058d","webpack:///./src/components/SimulationMapGroupBrowser.vue?30a2","webpack:///./src/enums/gene.enum.ts","webpack:///./src/App.vue?831b","webpack:///./src/components/CrossbreedingSimulator.vue?f449","webpack:///./src/services/crossbreeding-service/models.ts","webpack:///./src/models/gene.model.ts","webpack:///./src/models/sapling.model.ts","webpack:///./src/services/crossbreeding-service/helper.ts","webpack:///./src/services/crossbreeding-service/config.ts","webpack:///./src/services/crossbreeding-service/crossbreeding-orchestrator.ts","webpack:///./src/components/SimulationResults.vue?0a30","webpack:///./src/components/InViewAnchor.vue?48f7","webpack:///./src/components/InViewAnchor.vue","webpack:///./src/components/InViewAnchor.vue?b5d7","webpack:///./src/components/InViewAnchor.vue?d37d","webpack:///./src/components/SimulationMapGroup.vue?fe86","webpack:///./src/components/SimulationMap.vue?7a70","webpack:///./src/components/SaplingGeneRepresentation.vue?1d61","webpack:///./src/components/SaplingGeneRepresentation.vue","webpack:///./src/components/SaplingGeneRepresentation.vue?f134","webpack:///./src/components/SaplingGeneRepresentation.vue?5e0d","webpack:///./src/components/SaplingDetailed.vue?b701","webpack:///./src/components/SaplingDetailed.vue","webpack:///./src/components/SaplingDetailed.vue?4acc","webpack:///./src/components/SaplingDetailed.vue?17bf","webpack:///./src/components/SimulationMap.vue","webpack:///./src/components/SimulationMap.vue?83a6","webpack:///./src/components/SimulationMap.vue?6f5c","webpack:///./src/components/SimulationMapGroup.vue","webpack:///./src/components/SimulationMapGroup.vue?5e06","webpack:///./src/components/SimulationMapGroup.vue?d050","webpack:///./src/components/SimulationResults.vue","webpack:///./src/components/SimulationResults.vue?633e","webpack:///./src/components/SimulationResults.vue?b957","webpack:///./src/components/Options.vue?6c34","webpack:///./src/lib/ui-utils.ts","webpack:///./src/components/Options.vue","webpack:///./src/components/Options.vue?127b","webpack:///./src/components/Options.vue?9f40","webpack:///./src/components/GeneInputs.vue?2c33","webpack:///./src/components/SaplingInputHighlights.vue?d53a","webpack:///./src/components/SaplingInputHighlights.vue","webpack:///./src/components/SaplingInputHighlights.vue?ddcf","webpack:///./src/components/SaplingInputHighlights.vue?2f8b","webpack:///./src/components/SaplingListPreview.vue?ebe6","webpack:///./src/components/SaplingListPreview.vue","webpack:///./src/components/SaplingListPreview.vue?b0bd","webpack:///./src/components/SaplingListPreview.vue?dc05","webpack:///./src/components/SaplingListNumbering.vue?be9c","webpack:///./src/components/SaplingListNumbering.vue","webpack:///./src/components/SaplingListNumbering.vue?5d7c","webpack:///./src/components/SaplingListNumbering.vue?d47b","webpack:///./src/components/PreviousGenes.vue?fb76","webpack:///./src/components/PreviousGenes.vue","webpack:///./src/components/PreviousGenes.vue?39d0","webpack:///./src/components/PreviousGenes.vue?6f95","webpack:///./src/lib/global-event-bus.ts","webpack:///./src/components/GeneInputs.vue","webpack:///./src/components/GeneInputs.vue?df3d","webpack:///./src/components/GeneInputs.vue?ef39","webpack:///./src/components/SaplingScreenCapture.vue?9018","webpack:///./src/components/SaplingScreenCapturePreview.vue?34ce","webpack:///./src/components/SaplingScreenCapturePreview.vue","webpack:///./src/components/SaplingScreenCapturePreview.vue?326b","webpack:///./src/components/SaplingScreenCapturePreview.vue?84ca","webpack:///./src/components/SaplingScreenCapture.vue","webpack:///./src/components/SaplingScreenCapture.vue?d712","webpack:///./src/components/SaplingScreenCapture.vue?fdd0","webpack:///./src/components/Ads.vue?26a9","webpack:///./src/components/Ads.vue","webpack:///./src/components/Ads.vue?971d","webpack:///./src/components/Ads.vue?ff52","webpack:///./src/components/ProgressIndicator.vue?82d5","webpack:///./src/components/ProgressIndicator.vue","webpack:///./src/components/ProgressIndicator.vue?13c2","webpack:///./src/components/ProgressIndicator.vue?120e","webpack:///./src/components/SimulationMapGroupBrowser.vue?6183","webpack:///./src/components/SimulationMapGroupBrowser.vue","webpack:///./src/components/SimulationMapGroupBrowser.vue?4394","webpack:///./src/components/SimulationMapGroupBrowser.vue?e171","webpack:///./src/lib/time-utils.ts","webpack:///./src/components/HighlightedMap.vue?46f0","webpack:///./src/components/HighlightedMap.vue","webpack:///./src/components/HighlightedMap.vue?2e2c","webpack:///./src/components/HighlightedMap.vue?1342","webpack:///./src/components/CrossbreedingSimulator.vue","webpack:///./src/components/CrossbreedingSimulator.vue?ffc3","webpack:///./src/components/CrossbreedingSimulator.vue?e552","webpack:///./src/components/InfoButtons.vue?2077","webpack:///./src/components/AboutButton.vue?f27a","webpack:///./src/components/AboutButton.vue","webpack:///./src/components/AboutButton.vue?85ae","webpack:///./src/components/AboutButton.vue?fca6","webpack:///./src/components/InfoButtons.vue","webpack:///./src/components/InfoButtons.vue?8bd2","webpack:///./src/components/InfoButtons.vue?c7fa","webpack:///./src/components/CookieConsent.vue?cfb3","webpack:///./src/components/CookieConsent.vue","webpack:///./src/components/CookieConsent.vue?c93a","webpack:///./src/components/CookieConsent.vue?34b3","webpack:///./src/components/LogoSelector.vue?c841","webpack:///./src/components/LogoSelector.vue","webpack:///./src/components/LogoSelector.vue?c829","webpack:///./src/components/LogoSelector.vue?997f","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?4195","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/SaplingScreenCapturePreview.vue?904c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","TIME_MS_BETWEEEN_SCANS","REGIONS","GENE_WIDTH","GENE_HEIGHT","FIRST_GENE_X_CENTER","FIRST_GENE_Y_CENTER","DISTANCE_BETWEEN_GENES","SUPPORTED_ASPECT_RATIO","ScreenCaptureService","document","createElement","withPreview","this","isActive","navigator","mediaDevices","getDisplayMedia","video","width","ideal","height","audio","then","mediaStream","setupRecognitionWorkers","srcObject","addEventListener","startScanning","track","getVideoTracks","stopCapturing","play","catch","stopScanning","stream","tracks","getTracks","forEach","stop","sendEventToListeners","workers","Promise","all","Array","fill","map","setupWorker","clearTesseractDB","worker","createWorker","load","loadLanguage","initialize","setParameters","tessedit_pageseg_mode","PSM","SINGLE_CHAR","terminate","resolve","reject","request","indexedDB","deleteDatabase","onsuccess","onerror","onblocked","onupgradeneeded","scanFrameRecurrent","requestAnimationFrame","scanFrame","setTimeout","allGeneScans","getSaplingGenesScans","promises","geneScans","regionIndex","geneImgData","index","getRecognizedGene","results","regionResults","regionGenes","saplingGenesString","gene","join","match","imgData","workerIndex","promise","Jimp","Buffer","from","err","image","greyscale","invert","normalize","scale","convolute","contrast","getBase64","recognize","text","replace","toUpperCase","aspectRatio","videoWidth","videoHeight","yPxOffset","expectedHeight","Math","round","videoCanvas","videoCanvasCtx","getContext","drawImage","region","sendPreview","genePosition","saplingGenesXPxStart","saplingGenesXPxWidth","saplingGenesYPxStart","saplingGenesYPxWidth","getImageData","previewTopLeftCornerXPx","previewTopLeftCornerYPx","previewXPxWidth","previewYPxWidth","eventName","listeners","listenerCallback","callback","Worker","GeneEnum","_vm","_h","$createElement","_c","_self","staticStyle","attrs","on","handlePlantTypeChange","staticClass","_v","_s","calcEstimatedTime","_e","selectedPlantTypeName","functionalCookiesAccepted","advertisementCookiesAccepted","handleEstimatedTimeUpdated","handleCookiesUpdated","staticRenderFns","calcTotalTime","isSimulating","appVersion","progressPercents","class","showResultsPanel","areInputsValid","isScreenScanning","handleSimulateClick","handleStopSimulationClick","scopedSlots","_u","fn","ref","_g","numberOfGenerations","isCalculatingLastGeneration","hasProgressStartedOnCurrentGeneration","handleSkipClick","options","skipScannerGuide","handleSaplingScannedEvent","$event","handleOptionsSetEvent","highlightedMap","sounds","autoSaveInputSets","handleInputsValidityChange","handleClearHighlightClick","handleHighlightComposingSaplingSelectedEvent","showHighlight","resultMapGroups","handleMapSelectedEvent","handleGroupSelectedEvent","selectedBrowsingGroup","selectedBrowsingGroup2","isSelectedBrowsingGroupFromHighlight","handleBrowsingGroupComposingSaplingSelected","handleBrowserLeaveEvent","shouldDisplayGenInfoOnMapBrowser","shouldDisplayGeoInfoOnMapBrowser","proxy","SimulatorEventType","GREEN_GENE_WEIGHT","RED_GENE_WEIGHT","Gene","type","isGreen","G","H","Y","indexOf","Sapling","genes","generationIndex","split","reduce","acc","geneScores","Number","curr","toFixed","GeneticsMap","resultSapling","crossbreedingSaplings","score","chance","sumOfComposingSaplingsGenerations","baseSapling","tieWinningCrossbreedingSaplingIndexes","tieLosingCrossbreedingSaplingIndexes","clone","sapling","baseSaplingVariants","crossbreedingSaplingsVariants","chanceProduct","crossbreedingSaplingsVariant","mapList","getChanceProduct","GeneticsMapGroup","resultSaplingGeneString","resultMapsSortingFunction","geneticsMap1","geneticsMap2","resultMapGroupsSortingFunction","geneticsMapsGroup1","geneticsMapsGroup2","group1FirstMap","group2FirstMap","fixPrototypeAssignmentsAfterSerialization","groups","values","group","setPrototypeOf","getPrototypeOf","crossbreedingSapling","linkGenerationTree","mapGroup","toString","crossbreedingSaplingIndex","appendAndOrganizeResults","currentGroups","newGroups","keys","partialResultKey","sort","getBestSaplingsForNextGeneration","sourceSaplings","allResults","currentGenerationIndex","numberOfSaplingsAddedBetweenGenerations","resultSaplings","mapsToConsider","filter","resultGeneScoresPerColumn","addSaplingScoresToResultGeneScoresPerColumn","colIndex","saplingsToAdd","resultGeneScoresPerColumnIndexedWorstToBest","a","b","currentSubsetOfMapsToConsider","colInfo","bestScoreInCurrentCol","max","bestMapToAdd","indexOfAddedSaplingInCosideredList","min","WORK_CHUNKS_PER_WORKER","PARTIAL_RESULT_INCREMENTAL_UPDATE_FREQUENCY_MS","ESTIMATION_TIME_UNIT_MS","ESTIMATION_SENT_AFTER_MS","CrossbreedingOrchestrator","generationInfo","numberOfWorkers","startTimestamp","Date","getTime","lastPartialResultUpdateTimestamp","timeBetweenSubsequentPartialUpdates","mapGroupMap","processingStats","chunksWorker","ChunksWorker","numberOfWorkChunks","postMessage","event","workChunks","combinationsToProcess","allCombinationsCount","combinationsProcessedSoFar","workChunksPerWorker","currentWorkerWorkChunks","workChunk","workChunkIndex","CrossbreedingWorker","handleWorkerMessage","partialMapGroupMap","currentCombinationsProcessedSoFar","combinationsProcessed","combinationsProcessedBetweenUpdates","currentTimestamp","timestamp","stat","avgTimeMsLeft","avgCombinationsPerMs","val","progressPercent","sendEvent","PROGRESS_UPDATE","estimatedTimeMs","sendPartialResultsEvent","terminateAllWorkers","sendGenerationDoneEvent","tryCalculateNextGeneration","eventType","currentResults","linkAndReturnCurrentSortedResults","PARTIAL_RESULTS","mapGroups","DONE_GENERATION","DONE","additionalSourceSaplings","newGenerationInfo","addedSaplings","nextGenerationSourceGenes","simulateBestGenetics","isCalculatingNextGeneration","calculateNextGeneration","onCalculationDone","sendCalculationDoneEvent","model","$$v","isFormValid","expression","geneCountRules","geneCount","$set","_l","filteringGenes","visibleMapGroups","hasMore","showMore","InViewAnchor","checkIfInView","onNextTickRerender","rect","$el","getBoundingClientRect","isInView","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","removeEventListener","$emit","Vue","Component","component","addAnimationAppearClass","style","appearAnimationDuration","refInFor","isMouseHoveringBackingMap","backingMapHeight","nativeOn","handleMapClick","handleBackingMapMouseEnter","arguments","handleMouseLeave","handleMouseDown","handleMouseUp","directives","rawName","enableMapSelection","forcedHeight","genClass","chanceClass","enableTooltip","$vuetify","breakpoint","xsOnly","_b","undefined","enableComposingSaplingsSelection","handleBaseSaplingSelection","showGeographicalDirectionTips","handleCrossbreedingSaplingSelection","highlightErrors","SaplingGeneRepresentation","__decorate","Prop","required","Boolean","default","subtleDetails","selectable","handleSaplingClick","showGeographicalDirectionTipEast","showGeographicalDirectionTipWest","saplingVariants","SaplingDetailed","components","VIcon","SimulationMap","enableGeographicalDirectionTips","SimulationMapGroup","VCard","VCardText","VDivider","VListItem","VListItemContent","VList","VListItemSubtitle","VListItemTitle","VTooltip","Ripple","$slots","browsingMessage","showAlternateCards","playAppearAnimation","showAlternateCardsTimeoutRef","clearTimeout","setForcedHeight","$refs","primaryMap","offsetHeight","handleBackingMapClick","handlePrimaryMapClick","isLongPressingMap","Watch","SimulationResults","gene0","gene1","gene2","gene3","gene4","gene5","gCount","yCount","hCount","v","geneName","toLowerCase","hasGeneFiltersApplied","allGenesMatch","includes","filteredMapGroups","page","itemsPerPage","VCol","VContainer","VForm","VRow","VTextField","undoChanges","isDialogOpen","resetToDefaults","tab","maxNumberOfWorkers","numberOfWorkersLabels","_n","maxCrossbreedingSaplingsLabels","crossbreedingSaplingsNumberRange","numberOfGenerationLabels","numberOfSaplingsAddedBetweenGenerationsRules","geneScore","geneScoreRules","handleGeneScoreChange","handleModifyMinimumTrackedScoreManuallyChange","modifyMinimumTrackedScoreManually","minimumTrackedScoreRules","darkMode","handleUIModeChange","handleCloseButtonClick","setOptions","saveOptions","playAudio","audioElementName","volume","audioElement","getElementById","headshotAudio","cloneNode","isScanningAvailable","OPTIONS_VERSION","hardwareConcurrency","OPTIONS_COOKIE_PREFIX","OPTIONS_COOKIE_KEY","DEFAULT_OPTIONS","withRepetitions","minCrossbreedingSaplingsNumber","maxCrossbreedingSaplingsNumber","minimumTrackedScore","X","W","STORED_OPTIONS","getCookie","Options","JSON","parse","stringify","currentlySetOptions","isInteger","modBy","currentNumberOfWorkers","item","highestGeneScore","shouldDisplayScreenCaptureOptions","reasonableNumberOfWorkers","theme","dark","minimumTrackedScoreDerived","resetTo","storeOptionsInCookie","checked","setCookie","expires","VBtn","VCardActions","VCardTitle","VCheckbox","VDialog","VRangeSlider","VSlider","VSpacer","VSwitch","VTab","VTabItem","VTabs","VTabsItems","animatePreviousGenesTabIn","handleStoreSetClick","saplingGenes","saplingGeneList","placeholder","disabled","sourceSaplingRules","handleSaplingGenesInput","handleSaplingGenesInputBlur","handleSaplingGenesInputFocus","handleSaplingGenesInputKeyDown","highlightInputErrors","handlePreviousGenesSelectedEvent","highlightPosition","isBase","position","saplingGeneString","SaplingInputHighlights","positions","inputString","calculatePositions","positionData","saplingList","inputSaplingStrings","trim","positionObj","String","SaplingListPreview","$nextTick","lastSaplingGeneRepresentationElement","querySelector","classList","add","remove","topDistanceToCenterize","scrollY","goTo","duration","showSpecial","SaplingListNumbering","storedSets","storedSet","handleSetSelect","_k","keyCode","saplingsCount","dateString","handleRemoveSetClick","GENE_SETS_KEY","MAX_STORED_SETS","PreviousGenes","loadStoredSets","set","toLocaleString","imgName","storedSetsJSON","localStorage","getItem","setItem","find","newSet","now","pop","storeSets","stopPropagation","eventBus","GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED","GeneInputs","replaceAll","repeat","test","wasLastInputLongTimeAgo","isInputFocused","searchParams","URLSearchParams","location","search","genesUrlParam","checkFormValidity","prepareCheckForDatedInputActivity","textarea","saplingGenesInput","caretPosition","selectionStart","charAt","selectionEnd","lastInputLongAgoTimeoutRef","getDeduplicatedSaplingGeneList","storeCurrentSet","form","validate","resetValidation","animateAndScrollToLastSapling","playSaplingsScannedSound","focusTextArea","textArea","input","focus","setSelectionRange","previousGenesComponent","previousGenes","wasAdded","addNewSet","animatePreviousGenesTab","splitSaplingGenes","deduplicatedSaplingGenes","self","findIndex","otherGenes","allowedKeys","altKey","ctrlKey","playWrongKeySound","saplingListPreview","soundsEnabled","VTextarea","isHidden","shouldDisplayScreenCaptureButton","isScanning","isInitializing","isDisabled","handleScanClick","showPreview","startCapturing","isOpen","SaplingScreenCapturePreview","previewCanvas","previewCanvasCtx","putImageData","VSnackbar","SaplingScreenCapture","screenCaptureService","onScreenCaptureServiceEvent","preview","setPreview","previewData","VChip","VProgressCircular","_m","Ads","transform","opacity","ProgressIndicator","VProgressLinear","visibleGroup","animationClass","isVisible","applyOverflow","handleOverlayClick","message","_t","handleComposingSaplingSelectedEvent","SimulationMapGroupBrowser","scrollContainer","scrollLeft","timeMsToTimeString","timeMs","hours","floor","minutes","seconds","hoursPart","minutesPart","secondsPart","VOverlay","HighlightedMap","CrossbreedingSimulator","process","crossbreedingOrchestrator","onCrossbreedingServiceEvent","calcStartTime","calcEndTime","timeDiff","shouldGroupDisplayGeoInfo","grp","getOptions","setProgress","updateEstimatedTime","hadNoResultsBefore","scrollToResults","setData","updateTitle","isFinalResult","freeze","generationProgressIndex","progressPercentWithOneDecimal","progressPercentWithNoDecimals","title","estimatedTime","lastEstimatedTimeUpdateTimestamp","clearHighlight","deduplicatedSaplingGeneList","geneInputs","simulationResults","resetPage","geneString","skipToNextGeneration","cancelSimulation","valid","topDistance","closeDialog","AboutButton","InfoButtons","isSnackbarOpen","isManageModalOpen","handleCookieButtonClick","handleAcceptAllClick","handleDeclineAllClick","handleManageClick","handleManageModalClose","essentialCookiesAccepted","currentFunctionalCookiesAccepted","currentAnalyticsCookiesAccepted","currentAdvertisementCookiesAccepted","handleSavePreferences","CONSENTS_VERSION","PREF_COOKIE_NAME_PREFIX","STORAGE_PREFERENCE_DECIDED_COOKIE_NAME","FUNCTIONAL_GROUP_COOKIE_NAME","ANALYTICS_GROUP_COOKIE_NAME","ADVERTISEMENT_GROUP_COOKIE_NAME","FUNCTIONAL_DECLINE_CONFIRM_MODAL_TEXT","FUNCTIONAL_DECLINE_CONFIRM_MODAL_OPTIONS","buttonTrueText","buttonFalseText","PREFERENCE_EXPIRATION_DAYS","CHOICE_EXPIRATION_DAYS","CookieConsent","analyticsCookiesAccepted","arePreferencesSet","fireCookieStateUpdateEvent","setGroupChoiceCookies","trackPreferencesSet","acceptFunctionalCookies","acceptAnalyticsCookies","acceptAdvertisementCookies","checkIfNeedsConfirmationModal","confirmed","declineFunctionalCookies","declineAnalyticsCookies","declineAdvertisementCookies","willDeclineFunctionalCookies","$confirm","clearFunctionalCookiesAndStorage","clearGoogleCookies","eventData","getCookies","cookieName","startsWith","removeCookie","clear","notStartsWith","lastDomainDotIndex","hostname","lastIndexOf","secondToLastDomainDotIndex","gaDomain","substring","domain","isExpanded","animateIn","animateHeartbeat","imageName","activeImageName","handleImageClick","isClosing","LogoSelector","imagesNames","hidden","functionRef","animateLogo","$on","selectPlant","close","open","onDocumentClick","composedPath","logoSelector","setImageAsFavicon","link","href","VToolbarTitle","VToolbar","App","cookiesState","enableGtag","VApp","VAppBar","VMain","use","Vuetify","customProperties","themes","primary","colors","cyan","darken2","cardHighlight","light","green","accent4","config","productionTip","mixin","methods","VuetifyConfirm","vuetify","render","h","$mount"],"mappings":"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","file":"js/app.5466f751.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Jimp from 'jimp';\r\nimport { PreviewData, ScreenCaptureServiceEventListenerCallback, ScreenCaptureServiceEventType } from './models';\r\nimport { createWorker, PSM } from 'tesseract.js';\r\n\r\nconst TIME_MS_BETWEEEN_SCANS = 200;\r\n\r\nconst REGIONS: { [key: string]: number }[] = [\r\n  // World UI region.\r\n  {\r\n    GENE_WIDTH: 0.008,\r\n    GENE_HEIGHT: 0.015,\r\n    FIRST_GENE_X_CENTER: 0.42,\r\n    FIRST_GENE_Y_CENTER: 0.2845,\r\n    DISTANCE_BETWEEN_GENES: 0.01405\r\n  },\r\n  // Inventory region.\r\n  {\r\n    GENE_WIDTH: 0.01,\r\n    GENE_HEIGHT: 0.0185,\r\n    FIRST_GENE_X_CENTER: 0.617,\r\n    FIRST_GENE_Y_CENTER: 0.3512,\r\n    DISTANCE_BETWEEN_GENES: 0.0241\r\n  }\r\n];\r\n\r\nconst SUPPORTED_ASPECT_RATIO = 16 / 9;\r\n\r\nclass ScreenCaptureService {\r\n  listeners: ScreenCaptureServiceEventListenerCallback[] = [];\r\n\r\n  isActive = false;\r\n  withPreview = false;\r\n  video: HTMLVideoElement;\r\n  workers: Tesseract.Worker[] = [];\r\n  videoCanvas = document.createElement('canvas');\r\n\r\n  startCapturing(withPreview: boolean) {\r\n    this.isActive = true;\r\n    this.withPreview = withPreview;\r\n    navigator.mediaDevices\r\n      .getDisplayMedia({\r\n        video: {\r\n          width: { ideal: 1920 },\r\n          height: { ideal: 1080 }\r\n        },\r\n        audio: false\r\n      })\r\n      .then(async (mediaStream) => {\r\n        await this.setupRecognitionWorkers();\r\n\r\n        this.video = document.createElement('video');\r\n        this.video.srcObject = mediaStream;\r\n        this.video.addEventListener('loadedmetadata', () => {\r\n          this.startScanning();\r\n        });\r\n        const track = mediaStream.getVideoTracks()[0];\r\n        track.addEventListener('ended', () => {\r\n          this.stopCapturing();\r\n        });\r\n        this.video.play();\r\n      })\r\n      .catch(() => {\r\n        // Fail silently. It's likely that permission to capture screen was denied by the User.\r\n      });\r\n  }\r\n\r\n  stopCapturing() {\r\n    this.isActive = false;\r\n    this.stopScanning();\r\n    const stream: MediaStream = this.video.srcObject as MediaStream;\r\n    if (stream) {\r\n      const tracks = stream.getTracks();\r\n      tracks.forEach((track) => {\r\n        track.stop();\r\n      });\r\n      this.video.srcObject = null;\r\n    }\r\n  }\r\n\r\n  async setupRecognitionWorkers() {\r\n    this.sendEventToListeners('INITIALIZING');\r\n    if (this.workers.length === 0) {\r\n      try {\r\n        this.workers = await Promise.all(\r\n          Array(REGIONS.length * 6)\r\n            .fill(0)\r\n            .map(this.setupWorker.bind(this))\r\n        );\r\n      } catch (err) {\r\n        // It can happen that the data for Tesseract text recognition is corrupted.\r\n        // In this case we clear the database and reinitialize the workers.\r\n        await this.clearTesseractDB();\r\n        await this.setupRecognitionWorkers();\r\n      }\r\n    }\r\n  }\r\n\r\n  private async setupWorker(): Promise<Tesseract.Worker> {\r\n    let worker;\r\n    try {\r\n      worker = createWorker();\r\n\r\n      await worker.load();\r\n      await worker.loadLanguage('eng');\r\n      await worker.initialize('eng');\r\n      await worker.setParameters({\r\n        // eslint-disable-next-line @typescript-eslint/camelcase\r\n        tessedit_pageseg_mode: PSM.SINGLE_CHAR\r\n      });\r\n      return worker;\r\n    } catch (err) {\r\n      if (worker) {\r\n        await worker.terminate();\r\n      }\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  private async clearTesseractDB() {\r\n    await new Promise((resolve, reject) => {\r\n      const request = indexedDB.deleteDatabase('keyval-store');\r\n      request.onsuccess = () => {\r\n        resolve(null);\r\n      };\r\n      request.onerror = () => {\r\n        reject();\r\n      };\r\n      request.onblocked = () => {\r\n        reject();\r\n      };\r\n      request.onupgradeneeded = () => {\r\n        reject();\r\n      };\r\n    }).catch(() => {\r\n      return this.clearTesseractDB();\r\n    });\r\n  }\r\n\r\n  private startScanning() {\r\n    this.sendEventToListeners('STARTED');\r\n    this.scanFrameRecurrent();\r\n  }\r\n\r\n  private scanFrameRecurrent() {\r\n    if (this.isActive) {\r\n      window.requestAnimationFrame(() => {\r\n        this.scanFrame().then(() => {\r\n          setTimeout(() => {\r\n            this.scanFrameRecurrent();\r\n          }, TIME_MS_BETWEEEN_SCANS);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  private async stopScanning() {\r\n    this.sendEventToListeners('STOPPED');\r\n  }\r\n\r\n  private scanFrame() {\r\n    const allGeneScans = this.getSaplingGenesScans();\r\n\r\n    const promises: Promise<string | null>[] = [];\r\n    allGeneScans.forEach((geneScans, regionIndex) => {\r\n      geneScans.forEach((geneImgData, index) => {\r\n        promises.push(this.getRecognizedGene(geneImgData, regionIndex * 6 + index));\r\n      });\r\n    });\r\n\r\n    return Promise.all(promises).then((results) => {\r\n      const regionResults: (string | null)[][] = [];\r\n      REGIONS.forEach(() => {\r\n        regionResults.push(results.splice(0, 6));\r\n      });\r\n\r\n      regionResults.forEach((regionGenes) => {\r\n        const saplingGenesString = regionGenes.map((gene) => (gene ? gene : '')).join('');\r\n        if (saplingGenesString.match(/^[GHYWX]{6}$/g)) {\r\n          this.sendEventToListeners('SAPLING-FOUND', saplingGenesString);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private getRecognizedGene(imgData: ImageData, workerIndex: number): Promise<string | null> {\r\n    const promise = new Promise<string | null>((resolve) => {\r\n      new Jimp({ data: Buffer.from(imgData.data), width: imgData.width, height: imgData.height }, (err, image) => {\r\n        if (err) {\r\n          resolve(null);\r\n        }\r\n        image\r\n          .greyscale()\r\n          .invert()\r\n          .normalize()\r\n          .scale(2)\r\n          .convolute([\r\n            [0, -0.5, 0],\r\n            [-0.5, 4, -0.5],\r\n            [0, -0.5, 0]\r\n          ])\r\n          .contrast(0.5)\r\n          .getBase64('image/png', async (err, data) => {\r\n            let {\r\n              data: { text }\r\n            } = await this.workers[workerIndex].recognize(data);\r\n\r\n            text = text.replace(/\\s/g, '').toUpperCase();\r\n\r\n            if (text.match(/^[GHYWX]{1}$/g)) {\r\n              resolve(text);\r\n            } else {\r\n              resolve(null);\r\n            }\r\n          });\r\n      });\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  private getSaplingGenesScans(): ImageData[][] {\r\n    const allGeneScans: ImageData[][] = [];\r\n    const aspectRatio = this.video.videoWidth / this.video.videoHeight;\r\n    let yPxOffset = 0;\r\n    if (aspectRatio !== SUPPORTED_ASPECT_RATIO) {\r\n      const expectedHeight = Math.round(this.video.videoWidth / SUPPORTED_ASPECT_RATIO);\r\n      // If ratio is not 16:9 it means user should use windowed mode and that there is Application Bar at the top.\r\n      yPxOffset = -(this.video.videoHeight - expectedHeight);\r\n      this.videoCanvas.height = expectedHeight;\r\n    } else {\r\n      this.videoCanvas.height = this.video.videoHeight;\r\n    }\r\n    this.videoCanvas.width = this.video.videoWidth;\r\n\r\n    const videoCanvasCtx = this.videoCanvas.getContext('2d');\r\n    if (this.videoCanvas.width !== 0 && videoCanvasCtx) {\r\n      videoCanvasCtx.drawImage(this.video, 0, yPxOffset, this.videoCanvas.width, this.videoCanvas.height - yPxOffset);\r\n      REGIONS.forEach((region, regionIndex) => {\r\n        if (this.withPreview) {\r\n          this.sendPreview(regionIndex, this.videoCanvas, videoCanvasCtx);\r\n        }\r\n        const geneScans = [];\r\n        for (let genePosition = 0; genePosition < 6; genePosition++) {\r\n          const saplingGenesXPxStart = Math.round(\r\n            this.videoCanvas.width *\r\n              (region.FIRST_GENE_X_CENTER - region.GENE_WIDTH / 2 + region.DISTANCE_BETWEEN_GENES * genePosition)\r\n          );\r\n          const saplingGenesXPxWidth = Math.round(this.videoCanvas.width * region.GENE_WIDTH);\r\n          const saplingGenesYPxStart = Math.round(\r\n            this.videoCanvas.height * (region.FIRST_GENE_Y_CENTER - region.GENE_HEIGHT / 2)\r\n          );\r\n          const saplingGenesYPxWidth = Math.round(this.videoCanvas.height * region.GENE_HEIGHT);\r\n          const imgData = videoCanvasCtx.getImageData(\r\n            saplingGenesXPxStart,\r\n            saplingGenesYPxStart,\r\n            saplingGenesXPxWidth,\r\n            saplingGenesYPxWidth\r\n          );\r\n          geneScans.push(imgData);\r\n        }\r\n        allGeneScans.push(geneScans);\r\n      });\r\n    }\r\n    return allGeneScans;\r\n  }\r\n\r\n  sendPreview(regionIndex: number, videoCanvas: HTMLCanvasElement, videoCanvasCtx: CanvasRenderingContext2D) {\r\n    const region = REGIONS[regionIndex];\r\n    const previewTopLeftCornerXPx = Math.round(\r\n      videoCanvas.width * (region.FIRST_GENE_X_CENTER - region.GENE_WIDTH / 2)\r\n    );\r\n    const previewTopLeftCornerYPx = Math.round(\r\n      videoCanvas.height * (region.FIRST_GENE_Y_CENTER - region.GENE_HEIGHT / 2)\r\n    );\r\n    const previewXPxWidth = Math.round(\r\n      this.videoCanvas.width *\r\n        (region.FIRST_GENE_X_CENTER + 5 * region.DISTANCE_BETWEEN_GENES + region.GENE_WIDTH / 2) -\r\n        previewTopLeftCornerXPx\r\n    );\r\n    const previewYPxWidth = Math.round(this.videoCanvas.height * region.GENE_HEIGHT);\r\n    const imgData = videoCanvasCtx.getImageData(\r\n      previewTopLeftCornerXPx,\r\n      previewTopLeftCornerYPx,\r\n      previewXPxWidth,\r\n      previewYPxWidth\r\n    );\r\n\r\n    this.sendEventToListeners('PREVIEW', { imgData, regionIndex });\r\n  }\r\n\r\n  sendEventToListeners(eventName: ScreenCaptureServiceEventType, data?: string | PreviewData) {\r\n    this.listeners.forEach((listenerCallback) => {\r\n      listenerCallback(eventName, data);\r\n    });\r\n  }\r\n\r\n  addEventListener(callback: ScreenCaptureServiceEventListenerCallback) {\r\n    this.listeners.push(callback);\r\n  }\r\n}\r\n\r\nexport default new ScreenCaptureService();\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ads.vue?vue&type=style&index=0&id=98a071be&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CookieConsent.vue?vue&type=style&index=0&id=2b8cee06&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingGeneRepresentation.vue?vue&type=style&index=0&id=2b49fbe0&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrossbreedingSimulator.vue?vue&type=style&index=0&id=27c32a5f&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightedMap.vue?vue&type=style&index=0&id=17ebb372&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListPreview.vue?vue&type=style&index=0&id=64cfee47&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneInputs.vue?vue&type=style&index=0&id=6a2ce92c&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressIndicator.vue?vue&type=style&index=0&id=1a18e9a8&scoped=true&lang=scss&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"f4926fd4ca7a98947569.worker.js\");\n};","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"46e9f5debf22316033d0.worker.js\");\n};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapture.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMap.vue?vue&type=style&index=0&id=b5fc8f3a&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroup.vue?vue&type=style&index=0&id=f3b10d08&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingDetailed.vue?vue&type=style&index=0&id=0ba7745c&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapture.vue?vue&type=style&index=0&id=0b45e213&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationResults.vue?vue&type=style&index=0&id=2aa026ad&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviousGenes.vue?vue&type=style&index=0&id=5c3045e2&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSelector.vue?vue&type=style&index=0&id=f819efde&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapturePreview.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListNumbering.vue?vue&type=style&index=0&id=3ff5b808&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneInputs.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingInputHighlights.vue?vue&type=style&index=0&id=2c84e450&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroupBrowser.vue?vue&type=style&index=0&id=67ab3bb4&scoped=true&lang=scss&\"","enum GeneEnum {\r\n  G = 'G',\r\n  H = 'H',\r\n  Y = 'Y',\r\n  W = 'W',\r\n  X = 'X'\r\n}\r\n\r\nexport default GeneEnum;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticStyle:{\"min-height\":\"100vh !important\"}},[_c('v-app-bar',{attrs:{\"app\":\"\"}},[_c('LogoSelector',{on:{\"plant-type-change\":_vm.handlePlantTypeChange}}),_c('div',{staticClass:\"d-flex align-center ml-auto\"},[(_vm.estimatedTime)?_c('div',{staticClass:\"mr-2 estimated-time\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\" mdi-timer-outline \")]),_vm._v(\" \"+_vm._s(_vm.calcEstimatedTime)+\" \")],1):_vm._e(),_c('InfoButtons',{staticClass:\"d-none d-sm-flex\"})],1)],1),_c('v-main',[_c('CrossbreedingSimulator',{attrs:{\"selected-plant-type-name\":_vm.selectedPlantTypeName,\"functional-cookies-accepted\":_vm.functionalCookiesAccepted,\"advertisement-cookies-accepted\":_vm.advertisementCookiesAccepted},on:{\"estimated-time-updated\":_vm.handleEstimatedTimeUpdated}}),_c('InfoButtons',{staticClass:\"d-flex justify-center d-xs-flex d-sm-none mb-3 flex-wrap\"})],1),_c('CookieConsent',{on:{\"cookies-updated\":_vm.handleCookiesUpdated}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"simulator\"},[(_vm.calcTotalTime)?_c('div',{staticClass:\"simulator_calc-time mr-1\"},[_vm._v(\"time: \"+_vm._s(_vm.calcTotalTime))]):_vm._e(),(!_vm.isSimulating && !_vm.calcTotalTime)?_c('span',{staticClass:\"app_version mr-1\"},[_vm._v(\"v\"+_vm._s(_vm.appVersion))]):_vm._e(),_c('ProgressIndicator',{attrs:{\"is-active\":_vm.isSimulating,\"progress-percents\":_vm.progressPercents}}),_c('main',{staticClass:\"simulator_container\",class:{\n      'simulator_container--with-results': _vm.showResultsPanel\n    }},[_c('div',[_c('div',{staticClass:\"simulator_controls pa-0\"},[_c('div',{staticClass:\"d-flex flex-wrap justify-center pt-6 pb-3 px-3\"},[(!_vm.isSimulating)?_c('v-btn',{staticClass:\"ma-1\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.areInputsValid || _vm.isScreenScanning},on:{\"click\":_vm.handleSimulateClick}},[_vm._v(\"Calculate \")]):_vm._e(),(_vm.isSimulating)?_c('v-btn',{staticClass:\"ma-1 white--text\",attrs:{\"color\":\"red\"},on:{\"click\":_vm.handleStopSimulationClick}},[_vm._v(\"Cancel \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-cancel \")])],1):_vm._e(),_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"250\",\"z-index\":\"1001\",\"max-width\":\"600\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\nreturn [_c('div',_vm._g({},on),[(_vm.isSimulating && _vm.numberOfGenerations > 1)?_c('v-btn',{staticClass:\"ma-1\",attrs:{\"color\":\"orange\",\"disabled\":_vm.isCalculatingLastGeneration || !_vm.hasProgressStartedOnCurrentGeneration},on:{\"click\":_vm.handleSkipClick}},[_vm._v(\"Skip \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-skip-next \")])],1):_vm._e()],1)]}}])},[_c('span',[_vm._v(\"Lets you skip to calculating results for the next generation without checking all the possible combinations for the current one. Can be a time saver but also might end up missing some crossbreeding results. \")])]),_c('SaplingScreenCapture',{attrs:{\"is-hidden\":_vm.isSimulating && _vm.numberOfGenerations > 1,\"is-disabled\":_vm.isSimulating,\"skip-scanner-guide\":_vm.options ? _vm.options.skipScannerGuide : false},on:{\"sapling-scanned\":_vm.handleSaplingScannedEvent,\"started-scanning\":function($event){_vm.isScreenScanning = true},\"stopped-scanning\":function($event){_vm.isScreenScanning = false}}}),_c('span',{staticClass:\"ma-1\"},[_c('Options',{ref:\"options\",attrs:{\"functional-cookies-accepted\":_vm.functionalCookiesAccepted},on:{\"options-set\":_vm.handleOptionsSetEvent}})],1)],1),_c('GeneInputs',{ref:\"geneInputs\",staticClass:\"simulator_sapling-input-container mx-3\",attrs:{\"functional-cookies-accepted\":_vm.functionalCookiesAccepted,\"highlighted-map\":_vm.highlightedMap,\"disabled\":_vm.isScreenScanning || _vm.isSimulating,\"sounds-enabled\":_vm.options ? _vm.options.sounds : false,\"auto-save-input-sets\":_vm.options ? _vm.options.autoSaveInputSets : false,\"selected-plant-type-name\":_vm.selectedPlantTypeName},on:{\"validity-change\":_vm.handleInputsValidityChange}})],1),_c('ads',{staticClass:\"simulator_ads\",attrs:{\"advertisement-cookies-accepted\":_vm.advertisementCookiesAccepted}})],1),_c('div',[(_vm.showHighlight)?_c('div',{ref:\"highlightedMap\",staticClass:\"simulator_highlight py-6\"},[_c('HighlightedMap',{attrs:{\"map\":_vm.highlightedMap},on:{\"clear-highlight-clicked\":_vm.handleClearHighlightClick,\"composing-sapling-selected\":_vm.handleHighlightComposingSaplingSelectedEvent}})],1):_vm._e(),(_vm.showResultsPanel)?_c('div',{ref:\"results\",staticClass:\"simulator_results pa-0 pa-md-3\",class:{ 'simulation_results--separated': _vm.showHighlight }},[_c('SimulationResults',{ref:\"simulationResults\",attrs:{\"map-groups\":_vm.resultMapGroups,\"highlighted-map\":_vm.highlightedMap},on:{\"map-selected\":_vm.handleMapSelectedEvent,\"group-selected\":_vm.handleGroupSelectedEvent}}),(_vm.resultMapGroups !== null && _vm.resultMapGroups.length === 0 && !_vm.isSimulating)?_c('div',{staticClass:\"simulator_error-text text-center mt-5\"},[_vm._v(\" The genes that you provided did not return any useful results. You'll need to find more plants. Try to pick the \"),_c('strong',[_vm._v(\"good\")]),_vm._v(\" ones! \")]):_vm._e()],1):_vm._e()])]),_c('SimulationMapGroupBrowser',{attrs:{\"group\":_vm.selectedBrowsingGroup,\"group2\":_vm.selectedBrowsingGroup2,\"enable-map-selection\":!_vm.isSelectedBrowsingGroupFromHighlight,\"enable-composing-saplings-selection\":_vm.isSelectedBrowsingGroupFromHighlight,\"highlighted-map\":_vm.highlightedMap},on:{\"map-selected\":_vm.handleMapSelectedEvent,\"composing-sapling-selected\":_vm.handleBrowsingGroupComposingSaplingSelected,\"leave-group-browsing\":_vm.handleBrowserLeaveEvent},scopedSlots:_vm._u([(_vm.shouldDisplayGenInfoOnMapBrowser || _vm.shouldDisplayGeoInfoOnMapBrowser)?{key:\"message\",fn:function(){return [(_vm.shouldDisplayGenInfoOnMapBrowser)?[_vm._v(\" The Sapling you selected comes from the \"),_c('strong',[_vm._v(\"2nd\")]),_vm._v(\" generation. You will need to crossbreed the Saplings that it requires first. Click on \"),_c('span',{staticClass:\"simulator_highlight-guide\"},[_vm._v(\"highlighted\")]),_vm._v(\" Saplings to see how to crossbreed them. \")]:_vm._e(),(_vm.shouldDisplayGenInfoOnMapBrowser && _vm.shouldDisplayGeoInfoOnMapBrowser)?_c('v-divider',{staticClass:\"mt-2 mb-2\"}):_vm._e(),(_vm.shouldDisplayGeoInfoOnMapBrowser)?[_vm._v(\" Place plants with an \\\"E\\\" next to the \"),_c('v-icon',{attrs:{\"size\":\"large\",\"color\":\"white\"}},[_vm._v(\"mdi-compass-rose\")]),_vm._v(\" icon in the eastern most slots of the planter box, and plants with a \\\"W\\\" in the western most slots to influence the crossbreeding for the desired result. \")]:_vm._e()]},proxy:true}:null],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import GeneEnum from '@/enums/gene.enum';\r\nimport Sapling from '@/models/sapling.model';\r\n\r\nexport enum SimulatorEventType {\r\n  PROGRESS_UPDATE = 'PROGRESS_UPDATE',\r\n  PARTIAL_RESULTS = 'PARTIAL_RESULTS',\r\n  DONE_GENERATION = 'DONE_GENERATION',\r\n  DONE = 'DONE'\r\n}\r\n\r\nexport interface CrossbreedingOrchestratorEventListenerCallback {\r\n  (eventType: SimulatorEventType, data: CrossbreedingOrchestratorEventListenerCallbackData): void;\r\n}\r\n\r\nexport class WorkChunk {\r\n  startingPositions: number[];\r\n  combinationsToProcess: number;\r\n  allCombinationsCount: number;\r\n}\r\n\r\nexport class ProcessingStat {\r\n  timestamp: number;\r\n  combinationsProcessed: number;\r\n}\r\n\r\nexport class CrossbreedingGeneDetails {\r\n  geneType: GeneEnum;\r\n  totalWeight: number;\r\n  contributingCrossbreedingSaplingIndexes: number[];\r\n}\r\n\r\nexport class CrossbreedingResultWithDetails {\r\n  sapling: Sapling;\r\n  tieWinningCrossbreedingSaplingIndexes?: number[];\r\n  tieLosingCrossbreedingSaplingIndexes?: number[];\r\n}\r\n\r\nexport class GeneticsMap {\r\n  resultSapling!: Sapling;\r\n  baseSapling?: Sapling;\r\n  baseSaplingVariants?: GeneticsMapGroup;\r\n  crossbreedingSaplings!: Sapling[];\r\n  crossbreedingSaplingsVariants?: GeneticsMapGroup[];\r\n  score!: number;\r\n  chance!: number;\r\n  sumOfComposingSaplingsGenerations!: number;\r\n  tieWinningCrossbreedingSaplingIndexes?: number[];\r\n  tieLosingCrossbreedingSaplingIndexes?: number[];\r\n\r\n  constructor(\r\n    resultSapling: Sapling,\r\n    crossbreedingSaplings: Sapling[],\r\n    score: number,\r\n    chance: number,\r\n    sumOfComposingSaplingsGenerations: number,\r\n    baseSapling?: Sapling,\r\n    tieWinningCrossbreedingSaplingIndexes?: number[],\r\n    tieLosingCrossbreedingSaplingIndexes?: number[]\r\n  ) {\r\n    this.resultSapling = resultSapling;\r\n    this.baseSapling = baseSapling;\r\n    this.crossbreedingSaplings = crossbreedingSaplings;\r\n    this.score = score;\r\n    this.chance = chance;\r\n    this.sumOfComposingSaplingsGenerations = sumOfComposingSaplingsGenerations;\r\n    this.tieWinningCrossbreedingSaplingIndexes = tieWinningCrossbreedingSaplingIndexes;\r\n    this.tieLosingCrossbreedingSaplingIndexes = tieLosingCrossbreedingSaplingIndexes;\r\n  }\r\n\r\n  clone(): GeneticsMap {\r\n    const clone = new GeneticsMap(\r\n      this.resultSapling.clone(),\r\n      [...this.crossbreedingSaplings.map((sapling) => sapling.clone())],\r\n      this.score,\r\n      this.chance,\r\n      this.sumOfComposingSaplingsGenerations,\r\n      this.baseSapling\r\n    );\r\n    if (this.baseSaplingVariants) {\r\n      clone.baseSaplingVariants = this.baseSaplingVariants.clone();\r\n    }\r\n    if (this.crossbreedingSaplingsVariants) {\r\n      clone.crossbreedingSaplingsVariants = this.crossbreedingSaplingsVariants.map((crossbreedingSaplingsVariants) =>\r\n        crossbreedingSaplingsVariants.clone()\r\n      );\r\n    }\r\n    if (this.tieWinningCrossbreedingSaplingIndexes) {\r\n      clone.tieWinningCrossbreedingSaplingIndexes = [...this.tieWinningCrossbreedingSaplingIndexes];\r\n    }\r\n    if (this.tieLosingCrossbreedingSaplingIndexes) {\r\n      clone.tieLosingCrossbreedingSaplingIndexes = [...this.tieLosingCrossbreedingSaplingIndexes];\r\n    }\r\n    return clone;\r\n  }\r\n\r\n  getChanceProduct() {\r\n    let chanceProduct = this.chance;\r\n    if (this.crossbreedingSaplingsVariants) {\r\n      this.crossbreedingSaplingsVariants.forEach((crossbreedingSaplingsVariant) => {\r\n        if (crossbreedingSaplingsVariant) {\r\n          chanceProduct *= crossbreedingSaplingsVariant\r\n            ? crossbreedingSaplingsVariant.mapList[0].getChanceProduct()\r\n            : 1;\r\n        }\r\n      });\r\n      if (this.baseSaplingVariants) {\r\n        chanceProduct *= this.baseSaplingVariants.mapList[0].getChanceProduct();\r\n      }\r\n    }\r\n    return chanceProduct;\r\n  }\r\n}\r\n\r\nexport class GeneticsMapGroup {\r\n  resultSaplingGeneString: string;\r\n  mapList: GeneticsMap[];\r\n\r\n  constructor(resultSaplingGeneString: string, mapList: GeneticsMap[]) {\r\n    this.resultSaplingGeneString = resultSaplingGeneString;\r\n    this.mapList = mapList;\r\n  }\r\n\r\n  clone(): GeneticsMapGroup {\r\n    return new GeneticsMapGroup(\r\n      this.resultSaplingGeneString,\r\n      this.mapList.map((map) => map.clone())\r\n    );\r\n  }\r\n}\r\n\r\nexport class GenerationInfo {\r\n  // Generation index starts at 1.\r\n  index: number;\r\n  addedSaplings?: number;\r\n}\r\n\r\nexport interface CrossbreedingOrchestratorEventListenerCallbackData {\r\n  progressPercent?: number;\r\n  generationIndex: number;\r\n  estimatedTimeMs?: number | null;\r\n  mapGroups?: GeneticsMapGroup[];\r\n}\r\n\r\nexport interface SimulateOptions {\r\n  progressCallback: (combinationsProcessed: number, partialResultMapList: GeneticsMap[]) => void;\r\n  callProgressCallbackAfterCombinations: number;\r\n  callProgressCallbackAfterNumberOfResultsReached: number;\r\n  minCrossbreedingSaplingsNumber: number;\r\n  maxCrossbreedingSaplingsNumber: number;\r\n  numberOfSaplingsAddedBetweenGenerations: number;\r\n  geneScores: Record<GeneEnum, number>;\r\n  withRepetitions: boolean;\r\n  minimumTrackedScore: number;\r\n}\r\n","import GeneEnum from '../enums/gene.enum';\r\n\r\nexport const GREEN_GENE_WEIGHT = 0.6;\r\nexport const RED_GENE_WEIGHT = 1;\r\n\r\nexport default class Gene {\r\n  type: GeneEnum;\r\n  isGreen: boolean;\r\n\r\n  constructor(type: GeneEnum) {\r\n    this.type = type;\r\n    this.isGreen = [GeneEnum.G, GeneEnum.H, GeneEnum.Y].indexOf(this.type) !== -1;\r\n  }\r\n\r\n  getCrossbreedingWeight(): number {\r\n    return this.isGreen ? GREEN_GENE_WEIGHT : RED_GENE_WEIGHT;\r\n  }\r\n}\r\n","import 'reflect-metadata';\r\nimport Gene from './gene.model';\r\nimport GeneEnum from '../enums/gene.enum';\r\n\r\nexport default class Sapling {\r\n  genes: Gene[];\r\n  generationIndex: number;\r\n  /**\r\n   * Only applies to Saplings that are provided by the User.\r\n   * Corresponds to the order of Saplings as provided in the input.\r\n   */\r\n  index?: number;\r\n  [key: string]: unknown;\r\n\r\n  constructor(genes: Gene[] | string | null = null, generationIndex = 0, index?: number) {\r\n    this.generationIndex = generationIndex;\r\n    this.index = index;\r\n    if (typeof genes === 'string') {\r\n      this.genes = genes.split('').map((gene) => new Gene(gene as GeneEnum));\r\n    } else if (genes !== null) {\r\n      this.genes = genes;\r\n    } else {\r\n      this.genes = [];\r\n    }\r\n  }\r\n\r\n  addGene(gene: Gene) {\r\n    this.genes.push(gene);\r\n  }\r\n\r\n  numberOfGs() {\r\n    return this.genes.reduce((acc, gene) => acc + (gene.type === GeneEnum.G ? 1 : 0), 0);\r\n  }\r\n\r\n  numberOfYs() {\r\n    return this.genes.reduce((acc, gene) => acc + (gene.type === GeneEnum.Y ? 1 : 0), 0);\r\n  }\r\n\r\n  numberOfHs() {\r\n    return this.genes.reduce((acc, gene) => acc + (gene.type === GeneEnum.H ? 1 : 0), 0);\r\n  }\r\n\r\n  getScore(geneScores: Record<GeneEnum, number>): number {\r\n    return Number(this.genes.reduce((acc, curr) => acc + geneScores[curr.type] || 0, 0).toFixed(2));\r\n  }\r\n\r\n  toString() {\r\n    return this.genes.map((gene) => gene.type).join('');\r\n  }\r\n\r\n  clone(): Sapling {\r\n    return new Sapling([...this.genes], this.generationIndex, this.index);\r\n  }\r\n}\r\n","import GeneEnum from '@/enums/gene.enum';\r\nimport Gene from '../../models/gene.model';\r\nimport Sapling from '../../models/sapling.model';\r\nimport { GeneticsMap, GeneticsMapGroup, WorkChunk } from './models';\r\n\r\n/**\r\n * Used for sorting Maps that yield the same result Sapling.\r\n */\r\nexport function resultMapsSortingFunction(geneticsMap1: GeneticsMap, geneticsMap2: GeneticsMap): number {\r\n  if (\r\n    geneticsMap1.resultSapling.generationIndex < geneticsMap2.resultSapling.generationIndex ||\r\n    (geneticsMap1.resultSapling.generationIndex === geneticsMap2.resultSapling.generationIndex &&\r\n      (geneticsMap1.chance > geneticsMap2.chance ||\r\n        (geneticsMap1.chance === geneticsMap2.chance &&\r\n          (geneticsMap1.sumOfComposingSaplingsGenerations < geneticsMap2.sumOfComposingSaplingsGenerations ||\r\n            (geneticsMap1.sumOfComposingSaplingsGenerations === geneticsMap2.sumOfComposingSaplingsGenerations &&\r\n              geneticsMap1.crossbreedingSaplings.length < geneticsMap2.crossbreedingSaplings.length)))))\r\n  ) {\r\n    return -1;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\n/**\r\n * Used for sorting Map Groups that that each gives different result Sapling.\r\n */\r\nexport function resultMapGroupsSortingFunction(\r\n  geneticsMapsGroup1: GeneticsMapGroup,\r\n  geneticsMapsGroup2: GeneticsMapGroup\r\n): number {\r\n  const group1FirstMap = geneticsMapsGroup1.mapList[0];\r\n  const group2FirstMap = geneticsMapsGroup2.mapList[0];\r\n  if (\r\n    group1FirstMap.score > group2FirstMap.score ||\r\n    (group1FirstMap.score === group2FirstMap.score &&\r\n      (group1FirstMap.getChanceProduct() > group2FirstMap.getChanceProduct() ||\r\n        (group1FirstMap.getChanceProduct() === group2FirstMap.getChanceProduct() &&\r\n          (group1FirstMap.resultSapling.generationIndex < group2FirstMap.resultSapling.generationIndex ||\r\n            (group1FirstMap.resultSapling.generationIndex === group2FirstMap.resultSapling.generationIndex &&\r\n              (group1FirstMap.sumOfComposingSaplingsGenerations < group2FirstMap.sumOfComposingSaplingsGenerations ||\r\n                (group1FirstMap.sumOfComposingSaplingsGenerations ===\r\n                  group2FirstMap.sumOfComposingSaplingsGenerations &&\r\n                  geneticsMapsGroup1.resultSaplingGeneString < geneticsMapsGroup2.resultSaplingGeneString)))))))\r\n  ) {\r\n    return -1;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nexport function buildInitialSaplingPositions(positionCount: number, withRepetitions: boolean): number[] {\r\n  const positions = [];\r\n  for (let i = 0; i < positionCount; i++) {\r\n    positions.push(withRepetitions ? 0 : i);\r\n  }\r\n  return positions;\r\n}\r\n\r\nfunction rFact(num: number): number {\r\n  if (num === 0) {\r\n    return 1;\r\n  } else {\r\n    return num * rFact(num - 1);\r\n  }\r\n}\r\n\r\nexport function getMaxPositionsCount(itemsCount: number, withRepetitions: boolean, maxCrossbreedingSaplings: number) {\r\n  return withRepetitions ? maxCrossbreedingSaplings : Math.min(itemsCount, maxCrossbreedingSaplings);\r\n}\r\n\r\nexport function getNumberOfCrossbreedingCombinations(\r\n  itemsCount: number,\r\n  withRepetitions: boolean,\r\n  minCrossbreedingSaplings: number,\r\n  maxCrossbreedingSaplings: number\r\n) {\r\n  let numberOfAllCombinations = 0;\r\n  const maxItemsInVariation = getMaxPositionsCount(itemsCount, withRepetitions, maxCrossbreedingSaplings);\r\n  for (let k = minCrossbreedingSaplings; k <= maxItemsInVariation; k++) {\r\n    if (withRepetitions) {\r\n      numberOfAllCombinations += rFact(k + itemsCount - 1) / (rFact(k) * rFact(itemsCount - 1));\r\n    } else {\r\n      numberOfAllCombinations += rFact(itemsCount) / (rFact(k) * rFact(itemsCount - k));\r\n    }\r\n  }\r\n  // Math.round is needed because division can end up being a very close approximation of a Integer due to floating-point system.\r\n  return Math.round(numberOfAllCombinations);\r\n}\r\n\r\n/**\r\n * Sets next position for crossbreeding.\r\n * @return True if there's more combinations to go through.\r\n */\r\nexport function setNextPosition(\r\n  positions: number[],\r\n  currentPositionIndexForInc: number,\r\n  positionCount: number,\r\n  sourceSaplingsCount: number,\r\n  withRepetitions: boolean,\r\n  mandatorySaplingsCount?: number\r\n): { nextPositionIndexForInc: number; hasMoreCombinations: boolean } {\r\n  let hasMoreCombinations = true;\r\n  let keepOriganizingPositions = true;\r\n  while (keepOriganizingPositions) {\r\n    positions[currentPositionIndexForInc] += 1;\r\n\r\n    let maxSaplingIndexOnCurrentPosition;\r\n    // If we get mandatorySaplingsCount it means that it's not the first generation,\r\n    // and that every combination that we consider includes at least one of the saplings added from the results from previous generation.\r\n    // By limiting the possible saplings on the first (index=0) position we fulfill that requirement\r\n    // and also prevent checking combinations which were already handled in the previous generation.\r\n    // Mandatory saplings are always first on the list so their indexes start end at mandatorySaplingsCount - 1.\r\n    if (mandatorySaplingsCount && currentPositionIndexForInc === 0) {\r\n      maxSaplingIndexOnCurrentPosition = mandatorySaplingsCount - 1;\r\n    } else {\r\n      // Example:\r\n      // For no repetitions consider 3 possible positions and 8 source saplings.\r\n      // Last position is [5, 6, 7], and following calculation has to be done:\r\n      // - to calculate max on third position: 8 - (3 - 2)\r\n      // - to calculate max on second position: 8 - (3 - 1)\r\n      // - to calculate max on first position: 8 - (3 - 0)\r\n      maxSaplingIndexOnCurrentPosition = withRepetitions\r\n        ? sourceSaplingsCount - 1\r\n        : sourceSaplingsCount - (positionCount - currentPositionIndexForInc);\r\n    }\r\n\r\n    // If maximum has been reached on a position, it's time to:\r\n    // - increment previous position,\r\n    // - check if it didn't already pass maximum, if so run above step again,\r\n    // - reset following positions,\r\n    // - start incrementing again at the last position.\r\n    if (positions[currentPositionIndexForInc] > maxSaplingIndexOnCurrentPosition) {\r\n      if (currentPositionIndexForInc === 0) {\r\n        hasMoreCombinations = false;\r\n        keepOriganizingPositions = false;\r\n      } else {\r\n        currentPositionIndexForInc -= 1;\r\n      }\r\n    } else {\r\n      for (let positionIndex = currentPositionIndexForInc + 1; positionIndex < positions.length; positionIndex++) {\r\n        positions[positionIndex] = positions[positionIndex - 1] + (withRepetitions ? 0 : 1);\r\n      }\r\n      currentPositionIndexForInc = positionCount - 1;\r\n      keepOriganizingPositions = false;\r\n    }\r\n  }\r\n\r\n  return {\r\n    nextPositionIndexForInc: currentPositionIndexForInc,\r\n    hasMoreCombinations\r\n  };\r\n}\r\n\r\n/**\r\n * Method calculates chunks of work which should be split between workers.\r\n * @param numberOfWorkChunks Number of work chunks.\r\n * @param sourceSaplingsCount Number of sourceSaplings provided by User.\r\n * @param withRepetitions Option defining if process should consider repetitions.\r\n * @param minCrossbreedingSaplings Option defining how many crossbreeding saplings can be used in the process at minimum.\r\n * @param maxCrossbreedingSaplings Option defining how many crossbreeding saplings can be used in the process at maximum.\r\n * @param mandatorySaplingsCount Number of sourceSaplings that need to be present in all considered combinations. This value comes from\r\n * muli-generation crossbreeding, and reflects the number of saplings taken from previous generation to execute next generation crossbreeding.\r\n * @returns List of objects which represent chunks of work.\r\n */\r\nexport function getWorkChunks(\r\n  numberOfWorkChunks: number,\r\n  sourceSaplingsCount: number,\r\n  withRepetitions: boolean,\r\n  minCrossbreedingSaplings: number,\r\n  maxCrossbreedingSaplings: number,\r\n  mandatorySaplingsCount?: number\r\n): WorkChunk[] {\r\n  let allCombinationsCount = getNumberOfCrossbreedingCombinations(\r\n    sourceSaplingsCount,\r\n    withRepetitions,\r\n    minCrossbreedingSaplings,\r\n    maxCrossbreedingSaplings\r\n  );\r\n\r\n  if (mandatorySaplingsCount) {\r\n    const combinationsToIgnore = getNumberOfCrossbreedingCombinations(\r\n      sourceSaplingsCount - mandatorySaplingsCount,\r\n      withRepetitions,\r\n      minCrossbreedingSaplings,\r\n      maxCrossbreedingSaplings\r\n    );\r\n    allCombinationsCount -= combinationsToIgnore;\r\n  }\r\n\r\n  const combinationsPerWorkChunk = Math.ceil(allCombinationsCount / numberOfWorkChunks);\r\n  const workChunks = [];\r\n\r\n  let workChunkIndex = 0;\r\n  let combinationsProcessed = 0;\r\n  for (\r\n    let positionCount = minCrossbreedingSaplings;\r\n    positionCount <= getMaxPositionsCount(sourceSaplingsCount, withRepetitions, maxCrossbreedingSaplings);\r\n    positionCount++\r\n  ) {\r\n    const positions = buildInitialSaplingPositions(positionCount, withRepetitions);\r\n\r\n    let positionIndexForInc = positionCount - 1;\r\n    let hasMoreCombinations = true;\r\n    while (hasMoreCombinations) {\r\n      if (combinationsProcessed === 0) {\r\n        workChunks[workChunkIndex] = {\r\n          startingPositions: [...positions],\r\n          combinationsToProcess: 0,\r\n          allCombinationsCount\r\n        };\r\n      }\r\n\r\n      const setNextPositionResult = setNextPosition(\r\n        positions,\r\n        positionIndexForInc,\r\n        positionCount,\r\n        sourceSaplingsCount,\r\n        withRepetitions,\r\n        mandatorySaplingsCount\r\n      );\r\n      hasMoreCombinations = setNextPositionResult.hasMoreCombinations;\r\n      positionIndexForInc = setNextPositionResult.nextPositionIndexForInc;\r\n\r\n      combinationsProcessed++;\r\n\r\n      workChunks[workChunkIndex].combinationsToProcess = combinationsProcessed;\r\n      if (hasMoreCombinations && combinationsProcessed >= combinationsPerWorkChunk) {\r\n        combinationsProcessed = 0;\r\n        workChunkIndex++;\r\n      }\r\n    }\r\n  }\r\n\r\n  return workChunks;\r\n}\r\n\r\n/**\r\n * Fixes Prototype assignments after worker serialization to make sure that all the Class methods are accessible.\r\n * @param rawSapling Fixed Sapling object.\r\n */\r\nexport function fixSaplingPrototypeAssignments(rawSapling: Sapling): Sapling {\r\n  Object.setPrototypeOf(rawSapling, Sapling.prototype);\r\n  rawSapling.genes.forEach((gene) => {\r\n    Object.setPrototypeOf(gene, Gene.prototype);\r\n  });\r\n  return rawSapling;\r\n}\r\n\r\n/**\r\n * Fixes Prototype assignments after worker serialization to make sure that all the Class methods are accessible.\r\n */\r\nexport function fixPrototypeAssignmentsAfterSerialization(groups: { [key: string]: GeneticsMapGroup }) {\r\n  Object.values(groups).forEach((group) => {\r\n    Object.setPrototypeOf(group, GeneticsMapGroup.prototype);\r\n    group.mapList.forEach((map) => {\r\n      if (Object.getPrototypeOf(map) !== GeneticsMap.prototype) {\r\n        Object.setPrototypeOf(map, GeneticsMap.prototype);\r\n        Object.setPrototypeOf(map.resultSapling, Sapling.prototype);\r\n        map.crossbreedingSaplings.forEach((crossbreedingSapling) => {\r\n          Object.setPrototypeOf(crossbreedingSapling, Sapling.prototype);\r\n        });\r\n        if (map.baseSapling) {\r\n          Object.setPrototypeOf(map.baseSapling, Sapling.prototype);\r\n        }\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Method links Saplings required to crossbreed with their crossbreeding variants for younger generations.\r\n */\r\nexport function linkGenerationTree(groups: { [key: string]: GeneticsMapGroup }) {\r\n  Object.values(groups).forEach((mapGroup) => {\r\n    mapGroup.mapList.forEach((map) => {\r\n      if (map.baseSapling && map.baseSapling.generationIndex > 0) {\r\n        map.baseSaplingVariants = groups[map.baseSapling.toString()];\r\n      }\r\n      map.crossbreedingSaplingsVariants = new Array(map.crossbreedingSaplings.length);\r\n      map.crossbreedingSaplings.forEach((crossbreedingSapling, crossbreedingSaplingIndex) => {\r\n        if (crossbreedingSapling.generationIndex > 0) {\r\n          map.crossbreedingSaplingsVariants![crossbreedingSaplingIndex] = groups[crossbreedingSapling.toString()];\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Appends partial results to the total list of results. Fixes prototypes and generation tree.\r\n */\r\nexport function appendAndOrganizeResults(\r\n  currentGroups: { [key: string]: GeneticsMapGroup },\r\n  newGroups: { [key: string]: GeneticsMapGroup }\r\n): void {\r\n  Object.keys(newGroups).forEach((partialResultKey) => {\r\n    if (Object.prototype.hasOwnProperty.call(currentGroups, partialResultKey)) {\r\n      currentGroups[partialResultKey].mapList.push(...newGroups[partialResultKey].mapList);\r\n    } else {\r\n      currentGroups[partialResultKey] = newGroups[partialResultKey];\r\n    }\r\n\r\n    currentGroups[partialResultKey].mapList.sort(resultMapsSortingFunction);\r\n    // Discards results if there is more than 3 maps for the same resultSapling.\r\n    currentGroups[partialResultKey].mapList = currentGroups[partialResultKey].mapList.slice(0, 3);\r\n  });\r\n\r\n  fixPrototypeAssignmentsAfterSerialization(currentGroups);\r\n}\r\n\r\n/**\r\n * Creates partial results from partial GeneticsMap list.\r\n */\r\nexport function createMapGroupMap(mapList: GeneticsMap[]): { [key: string]: GeneticsMapGroup } {\r\n  const mapGroupMap: { [key: string]: GeneticsMapGroup } = {};\r\n  mapList.forEach((geneticsMap) => {\r\n    const resultSaplingGeneString = geneticsMap.resultSapling.toString();\r\n    if (mapGroupMap[resultSaplingGeneString] === undefined) {\r\n      mapGroupMap[resultSaplingGeneString] = new GeneticsMapGroup(resultSaplingGeneString, [geneticsMap]);\r\n    } else {\r\n      mapGroupMap[resultSaplingGeneString].mapList.push(geneticsMap);\r\n    }\r\n\r\n    mapGroupMap[resultSaplingGeneString].mapList.sort(resultMapsSortingFunction);\r\n    // Discards results if there is more than 3 maps for the same resultSapling.\r\n    mapGroupMap[resultSaplingGeneString].mapList = mapGroupMap[resultSaplingGeneString].mapList.slice(0, 3);\r\n  });\r\n\r\n  return mapGroupMap;\r\n}\r\n\r\n/**\r\n * Returns best genes to use for next generation on top of genes from previous generation.\r\n * Choice is based on identifying what is missing in the source genes from previous generation and by filling the gaps.\r\n * @param sourceSaplings Saplings used for crossbreeding in the current generation.\r\n * Sum of saplings provided by the user and those used in the current generation.\r\n * @param allResults Results so far.\r\n * @param currentGenerationIndex Index of the current generation that was calculated.\r\n * @param numberOfSaplingsAddedBetweenGenerations How many saplings should be selected by this method for next generation.\r\n * @param geneScores Score for gene provided from the app options. Used to define the worst column and to score saplings.\r\n */\r\nexport function getBestSaplingsForNextGeneration(\r\n  sourceSaplings: Sapling[],\r\n  allResults: GeneticsMapGroup[],\r\n  currentGenerationIndex: number,\r\n  numberOfSaplingsAddedBetweenGenerations: number,\r\n  geneScores: Record<GeneEnum, number>\r\n): Sapling[] {\r\n  const resultSaplings: Sapling[] = [];\r\n\r\n  const mapsToConsider = allResults\r\n    .filter((mapGroup) => mapGroup.mapList[0].resultSapling.generationIndex === currentGenerationIndex)\r\n    .map((mapGroup) => mapGroup.mapList[0]);\r\n\r\n  const resultGeneScoresPerColumn = new Array(6).fill(0);\r\n  const addSaplingScoresToResultGeneScoresPerColumn = (sapling: Sapling) => {\r\n    for (let colIndex = 0; colIndex < resultGeneScoresPerColumn.length; colIndex++) {\r\n      resultGeneScoresPerColumn[colIndex] += geneScores[sapling.genes[colIndex].type];\r\n    }\r\n  };\r\n  sourceSaplings.forEach(addSaplingScoresToResultGeneScoresPerColumn);\r\n\r\n  for (\r\n    let saplingsToAdd = Math.min(numberOfSaplingsAddedBetweenGenerations, mapsToConsider.length);\r\n    saplingsToAdd > 0;\r\n    saplingsToAdd--\r\n  ) {\r\n    // Has information about order of columns by their score ordered from worst to best.\r\n    const resultGeneScoresPerColumnIndexedWorstToBest = resultGeneScoresPerColumn\r\n      .map((score, index) => ({\r\n        score,\r\n        index\r\n      }))\r\n      .sort((a, b) => a.score - b.score);\r\n\r\n    // Go through all resultMaps and reduce the choice to the best ones\r\n    // according to how well they compensate current sourceSaplings.\r\n    let currentSubsetOfMapsToConsider = [...mapsToConsider];\r\n    resultGeneScoresPerColumnIndexedWorstToBest.forEach((colInfo) => {\r\n      const bestScoreInCurrentCol = Math.max(\r\n        ...currentSubsetOfMapsToConsider.map((map) => geneScores[map.resultSapling.genes[colInfo.index].type])\r\n      );\r\n      currentSubsetOfMapsToConsider = currentSubsetOfMapsToConsider.filter(\r\n        (map) => geneScores[map.resultSapling.genes[colInfo.index].type] === bestScoreInCurrentCol\r\n      );\r\n    });\r\n    currentSubsetOfMapsToConsider.sort(resultMapsSortingFunction);\r\n\r\n    const bestMapToAdd = currentSubsetOfMapsToConsider[0];\r\n    resultSaplings.push(bestMapToAdd.resultSapling);\r\n\r\n    // Include chosen sapling's score in the tracked column score, to better decide on next additions.\r\n    addSaplingScoresToResultGeneScoresPerColumn(bestMapToAdd.resultSapling);\r\n\r\n    // Remove the sapling from the list as we no longer consider it.\r\n    const indexOfAddedSaplingInCosideredList = mapsToConsider.indexOf(bestMapToAdd);\r\n    mapsToConsider.splice(indexOfAddedSaplingInCosideredList, 1);\r\n  }\r\n\r\n  return resultSaplings;\r\n}\r\n","export const WORK_CHUNKS_PER_WORKER = 50;\r\nexport const CALL_PROGRESS_CALLBACK_AFTER_COMBINATIONS = 50000;\r\nexport const CALL_PROGRESS_CALLBACK_AFTER_NUMBER_OF_RESULTS_REACHED = 10000;\r\n","import ChunksWorker from 'worker-loader!./chunks.worker';\r\nimport CrossbreedingWorker from 'worker-loader!./crossbreeding.worker';\r\nimport ApplicationOptions from '@/interfaces/application-options';\r\nimport {\r\n  resultMapGroupsSortingFunction,\r\n  appendAndOrganizeResults,\r\n  getBestSaplingsForNextGeneration,\r\n  linkGenerationTree\r\n} from './helper';\r\nimport {\r\n  CrossbreedingOrchestratorEventListenerCallback,\r\n  CrossbreedingOrchestratorEventListenerCallbackData,\r\n  GenerationInfo,\r\n  GeneticsMapGroup,\r\n  ProcessingStat,\r\n  SimulatorEventType,\r\n  WorkChunk\r\n} from './models';\r\nimport Sapling from '@/models/sapling.model';\r\nimport { WORK_CHUNKS_PER_WORKER } from './config';\r\n\r\nconst PARTIAL_RESULT_INCREMENTAL_UPDATE_FREQUENCY_MS = 1000;\r\nconst ESTIMATION_TIME_UNIT_MS = 10000;\r\nconst ESTIMATION_SENT_AFTER_MS = ESTIMATION_TIME_UNIT_MS / 10;\r\n\r\nclass CrossbreedingOrchestrator {\r\n  listeners: CrossbreedingOrchestratorEventListenerCallback[] = [];\r\n  sourceSaplings: Sapling[];\r\n  generationInfo: GenerationInfo;\r\n  options: ApplicationOptions;\r\n\r\n  chunksWorker: ChunksWorker;\r\n  workers: CrossbreedingWorker[];\r\n  combinationsToProcess: number;\r\n  combinationsProcessedSoFar: number;\r\n  mapGroupMap: { [key: string]: GeneticsMapGroup } = {};\r\n\r\n  processingStats: ProcessingStat[];\r\n  startTimestamp: number;\r\n  lastPartialResultUpdateTimestamp: number;\r\n  timeBetweenSubsequentPartialUpdates: number;\r\n\r\n  /**\r\n   * Entry point in the application where dispatching work and maintaining progress updates happen.\r\n   * @param sourceGenes List of raw String representations of saplings provided by the User.\r\n   * @param options Options provided from the UI, selected by the User.\r\n   */\r\n  simulateBestGenetics(\r\n    sourceSaplings: Sapling[],\r\n    generationInfo: GenerationInfo = { index: 1 },\r\n    options: ApplicationOptions\r\n  ) {\r\n    this.sourceSaplings = sourceSaplings;\r\n    this.generationInfo = generationInfo;\r\n    this.options = options;\r\n    const { numberOfWorkers } = options;\r\n\r\n    this.startTimestamp = new Date().getTime();\r\n    this.lastPartialResultUpdateTimestamp = new Date().getTime();\r\n    this.timeBetweenSubsequentPartialUpdates = PARTIAL_RESULT_INCREMENTAL_UPDATE_FREQUENCY_MS;\r\n\r\n    if (generationInfo.index === 1) {\r\n      this.mapGroupMap = {};\r\n    }\r\n\r\n    this.workers = [];\r\n    this.processingStats = [];\r\n\r\n    this.chunksWorker = new ChunksWorker();\r\n\r\n    // If there is just one worker there is no reason to split its work so we aim for just 1 chunk.\r\n    // Otherwise we scale number of chunks with number of workers.\r\n    const numberOfWorkChunks = numberOfWorkers > 1 ? numberOfWorkers * WORK_CHUNKS_PER_WORKER : 1;\r\n    this.chunksWorker.postMessage({\r\n      numberOfWorkChunks,\r\n      sourceSaplings,\r\n      options,\r\n      generationInfo\r\n    });\r\n\r\n    this.chunksWorker.addEventListener('message', (event) => {\r\n      this.chunksWorker.terminate();\r\n      const { workChunks } = event.data as { workChunks: WorkChunk[] };\r\n      this.combinationsToProcess = workChunks[0].allCombinationsCount;\r\n      this.combinationsProcessedSoFar = 0;\r\n\r\n      const workChunksPerWorker: WorkChunk[][] = [];\r\n      for (let workerIndex = 0; workerIndex < numberOfWorkers; workerIndex++) {\r\n        const currentWorkerWorkChunks = workChunks.filter(\r\n          (workChunk, workChunkIndex) => workChunkIndex % numberOfWorkers === workerIndex\r\n        );\r\n        workChunksPerWorker.push(currentWorkerWorkChunks);\r\n      }\r\n\r\n      for (let workerIndex = 0; workerIndex < numberOfWorkers; workerIndex++) {\r\n        const worker = new CrossbreedingWorker();\r\n        this.workers.push(worker);\r\n\r\n        worker.addEventListener('message', (event) => {\r\n          this.handleWorkerMessage(event);\r\n        });\r\n\r\n        worker.postMessage({\r\n          sourceSaplings,\r\n          workChunks: workChunksPerWorker[workerIndex],\r\n          generationInfo,\r\n          options\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  handleWorkerMessage(event: MessageEvent) {\r\n    // Handling partial results.\r\n    appendAndOrganizeResults(this.mapGroupMap, event.data.partialMapGroupMap);\r\n\r\n    // Progress tracking.\r\n    const currentCombinationsProcessedSoFar = this.combinationsProcessedSoFar + event.data.combinationsProcessed;\r\n    const combinationsProcessedBetweenUpdates = currentCombinationsProcessedSoFar - this.combinationsProcessedSoFar;\r\n    this.combinationsProcessedSoFar = currentCombinationsProcessedSoFar;\r\n\r\n    // Time estimation.\r\n    const currentTimestamp = new Date().getTime();\r\n    this.processingStats.push({\r\n      timestamp: currentTimestamp,\r\n      combinationsProcessed: combinationsProcessedBetweenUpdates\r\n    });\r\n    this.processingStats = this.processingStats.filter(\r\n      (stat) => stat.timestamp > currentTimestamp - ESTIMATION_TIME_UNIT_MS\r\n    );\r\n    let avgTimeMsLeft = null;\r\n    if (currentTimestamp - this.startTimestamp >= ESTIMATION_SENT_AFTER_MS) {\r\n      const avgCombinationsPerMs =\r\n        this.processingStats.reduce((acc, val) => acc + val.combinationsProcessed, 0) /\r\n        Math.min(ESTIMATION_TIME_UNIT_MS, currentTimestamp - this.startTimestamp);\r\n      avgTimeMsLeft = (this.combinationsToProcess - this.combinationsProcessedSoFar) / avgCombinationsPerMs;\r\n    }\r\n\r\n    // Progress updates notfication.\r\n    const progressPercent = Number(((this.combinationsProcessedSoFar / this.combinationsToProcess) * 100).toFixed(2));\r\n    this.sendEvent(SimulatorEventType.PROGRESS_UPDATE, {\r\n      generationIndex: this.generationInfo.index,\r\n      estimatedTimeMs: avgTimeMsLeft,\r\n      progressPercent\r\n    });\r\n\r\n    // Partial result updates.\r\n    if (currentTimestamp - this.lastPartialResultUpdateTimestamp >= this.timeBetweenSubsequentPartialUpdates) {\r\n      this.sendPartialResultsEvent();\r\n\r\n      this.lastPartialResultUpdateTimestamp = currentTimestamp;\r\n      this.timeBetweenSubsequentPartialUpdates += PARTIAL_RESULT_INCREMENTAL_UPDATE_FREQUENCY_MS;\r\n    }\r\n\r\n    // Handling complete generation results.\r\n    if (this.combinationsProcessedSoFar === this.combinationsToProcess) {\r\n      this.terminateAllWorkers();\r\n      this.sendGenerationDoneEvent();\r\n      this.tryCalculateNextGeneration();\r\n    }\r\n  }\r\n\r\n  linkAndReturnCurrentSortedResults() {\r\n    linkGenerationTree(this.mapGroupMap);\r\n    return Object.values(this.mapGroupMap).sort(resultMapGroupsSortingFunction);\r\n  }\r\n\r\n  sendEvent(eventType: SimulatorEventType, data: CrossbreedingOrchestratorEventListenerCallbackData) {\r\n    this.listeners.forEach((listenerCallback) => {\r\n      listenerCallback(eventType, data);\r\n    });\r\n  }\r\n\r\n  sendPartialResultsEvent() {\r\n    const currentResults = this.linkAndReturnCurrentSortedResults();\r\n    if (currentResults.length > 0) {\r\n      this.sendEvent(SimulatorEventType.PARTIAL_RESULTS, {\r\n        generationIndex: this.generationInfo.index,\r\n        mapGroups: currentResults\r\n      });\r\n    }\r\n  }\r\n\r\n  sendGenerationDoneEvent() {\r\n    this.sendEvent(SimulatorEventType.DONE_GENERATION, {\r\n      generationIndex: this.generationInfo.index,\r\n      mapGroups: this.linkAndReturnCurrentSortedResults()\r\n    });\r\n  }\r\n\r\n  sendCalculationDoneEvent() {\r\n    this.sendEvent(SimulatorEventType.DONE, {\r\n      generationIndex: this.generationInfo.index\r\n    });\r\n  }\r\n\r\n  calculateNextGeneration() {\r\n    const mapGroups = Object.values(this.mapGroupMap).sort(resultMapGroupsSortingFunction);\r\n    const additionalSourceSaplings = getBestSaplingsForNextGeneration(\r\n      this.sourceSaplings,\r\n      mapGroups,\r\n      this.generationInfo.index,\r\n      this.options.numberOfSaplingsAddedBetweenGenerations,\r\n      this.options.geneScores\r\n    );\r\n    if (additionalSourceSaplings.length > 0) {\r\n      const newGenerationInfo: GenerationInfo = {\r\n        index: this.generationInfo.index + 1,\r\n        addedSaplings: additionalSourceSaplings.length\r\n      };\r\n      const nextGenerationSourceGenes = [...additionalSourceSaplings, ...this.sourceSaplings];\r\n      this.simulateBestGenetics(nextGenerationSourceGenes, newGenerationInfo, this.options);\r\n    } else {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  skipToNextGeneration() {\r\n    this.terminateAllWorkers();\r\n    this.sendGenerationDoneEvent();\r\n    this.tryCalculateNextGeneration();\r\n  }\r\n\r\n  tryCalculateNextGeneration() {\r\n    let isCalculatingNextGeneration = false;\r\n    if (this.generationInfo.index < this.options.numberOfGenerations) {\r\n      isCalculatingNextGeneration = this.calculateNextGeneration();\r\n    }\r\n\r\n    if (!isCalculatingNextGeneration) {\r\n      this.onCalculationDone();\r\n    }\r\n  }\r\n\r\n  onCalculationDone() {\r\n    this.sendCalculationDoneEvent();\r\n    this.mapGroupMap = {};\r\n  }\r\n\r\n  cancelSimulation() {\r\n    this.terminateAllWorkers();\r\n  }\r\n\r\n  terminateAllWorkers() {\r\n    if (this.chunksWorker) {\r\n      this.chunksWorker.terminate();\r\n    }\r\n    this.workers.forEach((worker) => {\r\n      worker.terminate();\r\n    });\r\n  }\r\n\r\n  addEventListener(callback: CrossbreedingOrchestratorEventListenerCallback) {\r\n    this.listeners.push(callback);\r\n  }\r\n}\r\n\r\nexport default new CrossbreedingOrchestrator();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'd-none': !_vm.mapGroups || _vm.mapGroups.length === 0 }},[_c('v-form',{ref:\"form\",attrs:{\"spellcheck\":\"false\"},model:{value:(_vm.isFormValid),callback:function ($$v) {_vm.isFormValid=$$v},expression:\"isFormValid\"}},[_c('v-container',{staticClass:\"px-3 py-0\"},[_c('v-row',[_c('v-col',{staticClass:\"px-2 py-0\"},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"No. of Gs\",\"autocomplete\":\"off\",\"rules\":_vm.geneCountRules},model:{value:(_vm.geneCount.gCount),callback:function ($$v) {_vm.$set(_vm.geneCount, \"gCount\", $$v)},expression:\"geneCount.gCount\"}})],1),_c('v-col',{staticClass:\"px-2 py-0\"},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"No. of Ys\",\"autocomplete\":\"off\",\"rules\":_vm.geneCountRules},model:{value:(_vm.geneCount.yCount),callback:function ($$v) {_vm.$set(_vm.geneCount, \"yCount\", $$v)},expression:\"geneCount.yCount\"}})],1),_c('v-col',{staticClass:\"px-2 py-0\"},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"No. of Hs\",\"autocomplete\":\"off\",\"rules\":_vm.geneCountRules},model:{value:(_vm.geneCount.hCount),callback:function ($$v) {_vm.$set(_vm.geneCount, \"hCount\", $$v)},expression:\"geneCount.hCount\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},_vm._l((6),function(n){return _c('v-col',{key:n,staticClass:\"px-2 py-0\",attrs:{\"cols\":\"4\",\"sm\":\"2\"}},[_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":'Gene ' + n,\"hint\":\"Use / for alternative. Example: 'G/Y'.\",\"autocomplete\":\"off\"},model:{value:(_vm.filteringGenes['gene' + (n - 1)]),callback:function ($$v) {_vm.$set(_vm.filteringGenes, 'gene' + (n - 1), $$v)},expression:\"filteringGenes['gene' + (n - 1)]\"}})],1)}),1)],1)],1),_c('div',{staticClass:\"text-center\"},[(_vm.mapGroups && _vm.mapGroups.length > 0 && _vm.visibleMapGroups.length === 0)?_c('div',{staticClass:\"mt-5 orange--text\"},[_vm._v(\" Filters you applied return no results! \")]):_vm._e(),(_vm.visibleMapGroups.length > 0)?_c('div',{staticClass:\"mt-5 px-2\"},[_c('div',{staticClass:\"mt-5\"},[_vm._v(\"Click on a Card to see more details about generations and crossbreeding!\")]),_c('div',{staticClass:\"hidden-md-and-up mt-2\"},[_vm._v(\"Press and hold a Card to view alternative variants.\")])]):_vm._e()]),(_vm.visibleMapGroups.length > 0)?_c('ul',{staticClass:\"mt-3 mb-12\"},_vm._l((_vm.visibleMapGroups),function(group,index){return _c('li',{key:group.resultSaplingGeneString},[_c('SimulationMapGroup',{attrs:{\"group\":group,\"index\":index,\"highlighted-map\":_vm.highlightedMap},on:{\"map-selected\":_vm.handleMapSelectedEvent,\"group-selected\":_vm.handleGroupSelectedEvent}}),(_vm.hasMore && index === _vm.visibleMapGroups.length - 2)?_c('InViewAnchor',{key:index,on:{\"in-view\":_vm.showMore}}):_vm._e()],1)}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class InViewAnchor extends Vue {\r\n  created() {\r\n    window.addEventListener('scroll', this.checkIfInView);\r\n    window.addEventListener('resize', this.checkIfInView);\r\n  }\r\n\r\n  mounted() {\r\n    this.onNextTickRerender(() => {\r\n      this.checkIfInView();\r\n    });\r\n  }\r\n\r\n  checkIfInView() {\r\n    const rect = this.$el.getBoundingClientRect();\r\n    const isInView =\r\n      rect.top >= 0 &&\r\n      rect.left >= 0 &&\r\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth);\r\n    if (isInView) {\r\n      window.removeEventListener('scroll', this.checkIfInView);\r\n      window.removeEventListener('resize', this.checkIfInView);\r\n      this.$emit('in-view');\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InViewAnchor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InViewAnchor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InViewAnchor.vue?vue&type=template&id=0c1aebd4&\"\nimport script from \"./InViewAnchor.vue?vue&type=script&lang=ts&\"\nexport * from \"./InViewAnchor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group mx-auto\",class:{ 'group--show': _vm.addAnimationAppearClass },style:({ '--appear-animation-duration': _vm.appearAnimationDuration + 'ms' })},[_c('div',{staticClass:\"group_container\"},[_c('div',{staticClass:\"group_map-list\"},_vm._l((_vm.mapList),function(map,index){return _c('div',{key:(map.baseSapling ? map.baseSapling.toString() + '-' : '') +\n            map.crossbreedingSaplings.map(function (sapling) { return sapling.toString(); }).join(''),staticClass:\"group_map-container\"},[_c('SimulationMap',{key:(map.baseSapling ? map.baseSapling.toString() + '-' : '') +\n              map.crossbreedingSaplings.map(function (sapling) { return sapling.toString(); }).join(''),ref:index === 0 ? 'primaryMap' : null,refInFor:true,staticClass:\"group_map\",class:{\n            'group_map--backing': index !== 0,\n            'group_map--highlighted': map === _vm.highlightedMap,\n            'group_map--backing-hovered': index !== 0 && _vm.isMouseHoveringBackingMap\n          },style:({\n            'z-index': _vm.group.mapList.length - index\n          }),attrs:{\"map\":map,\"enable-map-selection\":\"\",\"enable-ripple\":index === 0,\"enable-tooltip\":index === 0,\"forced-height\":index !== 0 ? _vm.backingMapHeight : null,\"enable-geographical-direction-tips\":\"\"},nativeOn:{\"click\":function($event){return _vm.handleMapClick(index)},\"mouseenter\":function($event){return (function () { return index !== 0 && _vm.handleBackingMapMouseEnter(); }).apply(null, arguments)},\"mouseleave\":function($event){return _vm.handleMouseLeave(index)},\"pointerleave\":function($event){return _vm.handleMouseLeave(index)},\"touchmove\":function($event){return _vm.handleMouseLeave(index)},\"mousedown\":function($event){return (function () { return index === 0 && _vm.handleMouseDown(); }).apply(null, arguments)},\"pointerdown\":function($event){return (function () { return index === 0 && _vm.handleMouseDown(); }).apply(null, arguments)},\"mouseup\":function($event){return (function () { return index === 0 && _vm.handleMouseUp(); }).apply(null, arguments)},\"pointerup\":function($event){return (function () { return index === 0 && _vm.handleMouseUp(); }).apply(null, arguments)}}})],1)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:(_vm.enableRipple),expression:\"enableRipple\"}],staticClass:\"map\",class:{ 'map--selectable': _vm.enableMapSelection },style:({ height: _vm.forcedHeight ? _vm.forcedHeight + 'px' : 'auto' }),attrs:{\"outlined\":\"\"}},[_c('v-list-item',{staticClass:\"map_header\"},[_c('v-list-item-content',[_c('v-list-item-title',[_c('SaplingGeneRepresentation',{staticClass:\"map_sapling map_result-sapling\",attrs:{\"sapling\":_vm.map.resultSapling}})],1),_c('v-list-item-subtitle',{staticClass:\"mt-2 map_header-subtitle\"},[_c('span',{staticClass:\"map_gen\",class:_vm.genClass},[_vm._v(\"GEN.\"+_vm._s(_vm.map.resultSapling.generationIndex))]),_c('span',[_vm._v(\"·\")]),_c('span',{staticClass:\"map_score\"},[_vm._v(\"Score: \"),_c('span',[_vm._v(_vm._s(_vm.map.score))])]),_c('span',[_vm._v(\"·\")]),_c('span',{staticClass:\"map_chance\",class:_vm.chanceClass},[_vm._v(\"Chance: \"),_c('span',[_vm._v(_vm._s(Math.round(_vm.map.chance * 100))+\"%\")])])])],1)],1),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-text',{staticClass:\"map_detail px-0\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"open-delay\":\"150\",\"disabled\":!_vm.enableTooltip || _vm.$vuetify.breakpoint.xsOnly,\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"map_center-sapling-container\",class:{ 'map_center-sapling-container--tooltip-enabled': _vm.enableTooltip && !_vm.$vuetify.breakpoint.xsOnly }},'div',attrs,false),on),[_c('div',{staticClass:\"mb-1\"},[_vm._v(\" Center Sapling: \"),(!_vm.map.baseSapling)?_c('div',{staticClass:\"map_center-sapling-info mb-4\"},[_c('span',[_vm._v(\"any extra plant of same type\")])]):_vm._e()]),(_vm.map.baseSapling)?_c('SaplingDetailed',{staticClass:\"mb-4\",attrs:{\"sapling\":_vm.map.baseSapling,\"saplingVariants\":_vm.map.baseSaplingVariants ? _vm.map.baseSaplingVariants : undefined,\"subtleDetails\":!_vm.enableComposingSaplingsSelection,\"selectable\":_vm.enableComposingSaplingsSelection},on:{\"click\":function($event){return _vm.handleBaseSaplingSelection()}}}):_vm._e()],1)]}}])},[_c('p',[_vm._v(\" Sapling that takes the genes from Surrounding Saplings during Crossbreeding stage. Plant it in the center and let it grow alone until it reaches about 50% progress in the \"),_c('strong',[_vm._v(\"Sapling\")]),_vm._v(\" stage. After that, plant the Surrounding Saplings around it. \")]),_c('p',[_vm._v(\" It is always an \"),_c('strong',[_vm._v(\"extra plant\")]),_vm._v(\", so if the app shows \"),_c('strong',[_vm._v(\"five\")]),_vm._v(\" Surrounding Saplings you will have to plant \"),_c('strong',[_vm._v(\"six\")]),_vm._v(\" plants in total. \")]),(_vm.map.baseSapling)?_c('p',[_vm._v(\" You have to plant the exact plant that the app tells you to, otherwise crossbreeding will not work as expected. \")]):_vm._e(),(!_vm.map.baseSapling)?_c('p',[_vm._v(\" The genes of the plant don't matter. Using one with more Gs will help you finish the process quicker as it grows faster. \")]):_vm._e(),(!_vm.map.baseSapling)?_c('p',[_vm._v(\" Term \\\"same type\\\" means that if you are crossbreeding yellow berries, then your center seed/clone \"),_c('strong',[_vm._v(\"has to be\")]),_vm._v(\" a yellow berry and if you are planting potatoes then \"),_c('strong',[_vm._v(\"you have to\")]),_vm._v(\" plant a potato seed/clone. \")]):_vm._e()]),_c('v-divider',{staticClass:\"mb-5\"}),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"open-delay\":\"150\",\"disabled\":!_vm.enableTooltip || _vm.$vuetify.breakpoint.xsOnly,\"max-width\":\"600\",\"z-index\":\"1001\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({},'div',attrs,false),on),[_c('div',{staticClass:\"mb-1\"},[_vm._v(\"Surrounding Saplings:\")]),_c('ul',_vm._l((_vm.map.crossbreedingSaplings),function(crossbreedingSapling,index){return _c('li',{key:index},[_c('SaplingDetailed',{attrs:{\"sapling\":crossbreedingSapling,\"sapling-variants\":_vm.map.crossbreedingSaplingsVariants ? _vm.map.crossbreedingSaplingsVariants[index] : undefined,\"subtle-details\":!_vm.enableComposingSaplingsSelection,\"selectable\":_vm.enableComposingSaplingsSelection,\"show-geographical-direction-tip-east\":_vm.showGeographicalDirectionTips && _vm.map.tieWinningCrossbreedingSaplingIndexes\n                    ? _vm.map.tieWinningCrossbreedingSaplingIndexes.indexOf(index) !== -1\n                    : false,\"show-geographical-direction-tip-west\":_vm.showGeographicalDirectionTips && _vm.map.tieLosingCrossbreedingSaplingIndexes\n                    ? _vm.map.tieLosingCrossbreedingSaplingIndexes.indexOf(index) !== -1\n                    : false},on:{\"click\":function($event){return _vm.handleCrossbreedingSaplingSelection(index)}}})],1)}),0)])]}}])},[_c('p',[_vm._v(\" Saplings that have be planted around the Center Sapling before it goes into \"),_c('strong',[_vm._v(\"Crossbreeding\")]),_vm._v(\" stage. All Saplings have to be of the same type. \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.showGeographicalDirectionTips ? 'Place your Surrounding Saplings around the Center Sapling according to the EAST/WEST guidance.' : 'It does not matter where you place your Surrounding Saplings if your Center Sapling is in the middle of the planter.')+\" Center Sapling will reach horizontally, vertically and diagonally during the crossbreeding phase. You are allowed to use any and all of the eight remaining planter slots to plant your Surrounding Saplings. \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sapling-gene-repr\"},_vm._l((_vm.genes),function(gene,index){return _c('span',{key:index,staticClass:\"sapling-gene-repr_gene-container\"},[_c('span',{staticClass:\"sapling-gene-repr_gene\",class:{\n        'sapling-gene-repr_gene--red': typeof gene !== 'string' && !gene.isGreen,\n        'sapling-gene-repr_gene--green': typeof gene !== 'string' && gene.isGreen,\n        'sapling-gene-repr_gene--invalid': typeof gene === 'string',\n        'sapling-gene-repr_gene--highlight-error': _vm.highlightErrors && typeof gene === 'string'\n      }},[_c('span',[_vm._v(_vm._s(typeof gene !== 'string' ? gene.type : gene))])]),(_vm.genes.length - 1 > index)?_c('span',{key:index + 'sep',staticClass:\"sapling-gene-repr_separator\"},[_vm._v(\"-\")]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Gene from '@/models/gene.model';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport Sapling from '../models/sapling.model';\r\n\r\n@Component\r\nexport default class SaplingGeneRepresentation extends Vue {\r\n  @Prop({ type: Object, required: true }) readonly sapling!: Sapling;\r\n  @Prop({ type: Boolean, default: false }) readonly highlightErrors: boolean;\r\n\r\n  get genes(): (Gene | string)[] {\r\n    if (this.sapling.genes.length > 6) {\r\n      return new Array(6).fill('!');\r\n    }\r\n    return [...this.sapling.genes, ...new Array(6 - this.sapling.genes.length).fill('?')];\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingGeneRepresentation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingGeneRepresentation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingGeneRepresentation.vue?vue&type=template&id=2b49fbe0&scoped=true&\"\nimport script from \"./SaplingGeneRepresentation.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingGeneRepresentation.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingGeneRepresentation.vue?vue&type=style&index=0&id=2b49fbe0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b49fbe0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sapling-detailed\"},[_c('div',{staticClass:\"sapling-detailed_annotation-left\"},[_c('span',{staticClass:\"sapling-detailed_annotation-sapling-metadata\",class:{ 'sapling-detailed_annotation-sapling-metadata--subtle': _vm.subtleDetails }},[(_vm.sapling.index !== undefined)?[_vm._v(\"#\"+_vm._s(_vm.sapling.index + 1))]:_vm._e(),(_vm.sapling.index === undefined)?[_vm._v(_vm._s('GEN.' + _vm.sapling.generationIndex))]:_vm._e()],2)]),_c('SaplingGeneRepresentation',{staticClass:\"sapling-detailed_sapling\",class:{\n      'sapling-detailed_sapling--selectable': _vm.selectable && _vm.sapling && _vm.sapling.generationIndex > 0\n    },attrs:{\"sapling\":_vm.sapling},nativeOn:{\"click\":function($event){_vm.selectable && _vm.sapling.generationIndex > 0 && _vm.handleSaplingClick()}}}),_c('div',{staticClass:\"sapling-detailed_annotation-right\"},[(!(_vm.showGeographicalDirectionTipEast || _vm.showGeographicalDirectionTipWest))?_c('span',{staticClass:\"sapling-detailed_annotation-sapling-chance\",class:{\n        'sapling-detailed_annotation-sapling-chance--subtle': _vm.subtleDetails,\n        'sapling-detailed_annotation-sapling-chance--moderate': _vm.saplingVariants\n          ? _vm.saplingVariants.mapList[0].chance <= 0.5\n          : false\n      }},[_vm._v(_vm._s(_vm.sapling.generationIndex > 0 && _vm.saplingVariants ? Math.round(_vm.saplingVariants.mapList[0].chance * 100) + '%' : ''))]):_vm._e(),(_vm.showGeographicalDirectionTipEast || _vm.showGeographicalDirectionTipWest)?_c('div',{staticClass:\"sapling-detailed_annotation-sapling-geo-direction\"},[(_vm.showGeographicalDirectionTipWest)?_c('span',{staticClass:\"sapling-detailed_annotation-sapling-geo-direction-west\"},[_vm._v(\"W\")]):_vm._e(),_c('v-icon',{attrs:{\"size\":\"large\"}},[_vm._v(\" mdi-compass-rose \")]),(_vm.showGeographicalDirectionTipEast)?_c('span',{staticClass:\"sapling-detailed_annotation-sapling-geo-direction-east\"},[_vm._v(\"E\")]):_vm._e()],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Sapling from '@/models/sapling.model';\r\nimport { GeneticsMapGroup } from '@/services/crossbreeding-service/models';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport SaplingGeneRepresentation from './SaplingGeneRepresentation.vue';\r\n\r\n@Component({\r\n  components: { SaplingGeneRepresentation }\r\n})\r\nexport default class SaplingDetailed extends Vue {\r\n  @Prop({ type: Object, required: true }) readonly sapling!: Sapling;\r\n  @Prop({ type: Object }) readonly saplingVariants?: GeneticsMapGroup;\r\n  @Prop({ type: Boolean }) readonly subtleDetails: boolean;\r\n  @Prop({ type: Boolean }) readonly selectable: boolean;\r\n  @Prop({ type: Boolean }) readonly showGeographicalDirectionTipEast: boolean;\r\n  @Prop({ type: Boolean }) readonly showGeographicalDirectionTipWest: boolean;\r\n\r\n  handleSaplingClick() {\r\n    this.$emit('click');\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingDetailed.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingDetailed.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingDetailed.vue?vue&type=template&id=0ba7745c&scoped=true&\"\nimport script from \"./SaplingDetailed.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingDetailed.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingDetailed.vue?vue&type=style&index=0&id=0ba7745c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ba7745c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VIcon})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { GeneticsMap } from '@/services/crossbreeding-service/models';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport SaplingGeneRepresentation from './SaplingGeneRepresentation.vue';\r\nimport SimulationMapGroup from './SimulationMapGroup.vue';\r\nimport SaplingDetailed from './SaplingDetailed.vue';\r\n\r\n@Component({\r\n  components: { SaplingGeneRepresentation, SimulationMapGroup, SaplingDetailed }\r\n})\r\nexport default class SimulationMap extends Vue {\r\n  @Prop({ type: Object, required: true }) readonly map!: GeneticsMap;\r\n  @Prop({ type: Boolean }) readonly enableComposingSaplingsSelection: boolean;\r\n  @Prop({ type: Boolean }) readonly enableMapSelection: boolean;\r\n  @Prop({ type: Boolean }) readonly enableGeographicalDirectionTips: boolean;\r\n  @Prop({ type: Boolean }) readonly enableTooltip: boolean;\r\n  @Prop({ type: Boolean }) readonly enableRipple: boolean;\r\n  @Prop({ type: Number }) readonly forcedHeight: number;\r\n\r\n  get chanceClass() {\r\n    let chanceClass = 'map_chance--';\r\n    if (this.map.chance > 0.5) {\r\n      chanceClass += 'high';\r\n    } else {\r\n      chanceClass += 'moderate';\r\n    }\r\n    return chanceClass;\r\n  }\r\n\r\n  get genClass() {\r\n    return `map_gen--${this.map.resultSapling.generationIndex}`;\r\n  }\r\n\r\n  get showGeographicalDirectionTips() {\r\n    return this.enableGeographicalDirectionTips && this.map.chance < 1;\r\n  }\r\n\r\n  handleCrossbreedingSaplingSelection(crossbreedingSaplingIndex: number) {\r\n    if (this.map.crossbreedingSaplingsVariants) {\r\n      this.$emit('composing-sapling-selected', this.map.crossbreedingSaplingsVariants[crossbreedingSaplingIndex]);\r\n    }\r\n  }\r\n\r\n  handleBaseSaplingSelection() {\r\n    if (this.map.baseSaplingVariants) {\r\n      this.$emit('composing-sapling-selected', this.map.baseSaplingVariants);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimulationMap.vue?vue&type=template&id=b5fc8f3a&scoped=true&\"\nimport script from \"./SimulationMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimulationMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SimulationMap.vue?vue&type=style&index=0&id=b5fc8f3a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5fc8f3a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VCard,VCardText,VDivider,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport SimulationMap from './SimulationMap.vue';\r\nimport { GeneticsMapGroup, GeneticsMap } from '@/services/crossbreeding-service/models';\r\n\r\n@Component({\r\n  components: { SimulationMap }\r\n})\r\nexport default class SimulationMapGroup extends Vue {\r\n  @Prop({ type: Object, required: true }) readonly group!: GeneticsMapGroup;\r\n  @Prop({ type: Object }) readonly highlightedMap: GeneticsMap;\r\n  @Prop({ type: Number }) readonly index: number;\r\n\r\n  backingMapHeight = 0;\r\n  addAnimationAppearClass = false;\r\n\r\n  isLongPressingMap = false;\r\n  isMouseHoveringBackingMap = false;\r\n  showAlternateCards = false;\r\n  showAlternateCardsTimeoutRef: NodeJS.Timeout | null;\r\n\r\n  appearAnimationDuration = 300;\r\n\r\n  get hasBrowsingMessageSlotContent() {\r\n    return this.$slots.browsingMessage;\r\n  }\r\n\r\n  get mapList() {\r\n    return this.group.mapList.filter((map, index) => index === 0 || this.showAlternateCards);\r\n  }\r\n\r\n  mounted() {\r\n    this.playAppearAnimation();\r\n  }\r\n\r\n  @Watch('index')\r\n  onIndexChange() {\r\n    this.playAppearAnimation();\r\n  }\r\n\r\n  playAppearAnimation() {\r\n    this.showAlternateCards = false;\r\n    this.addAnimationAppearClass = false;\r\n    this.onNextTickRerender(() => {\r\n      this.addAnimationAppearClass = true;\r\n    });\r\n    if (this.showAlternateCardsTimeoutRef) {\r\n      clearTimeout(this.showAlternateCardsTimeoutRef);\r\n    }\r\n    // Alternate cards should be shown after the entry animation is finished to prevent animation flicker.\r\n    this.showAlternateCardsTimeoutRef = setTimeout(() => {\r\n      this.showAlternateCardsTimeoutRef = null;\r\n      this.setForcedHeight();\r\n      this.showAlternateCards = true;\r\n    }, this.appearAnimationDuration);\r\n  }\r\n\r\n  updated() {\r\n    this.setForcedHeight();\r\n  }\r\n\r\n  setForcedHeight() {\r\n    if (this.$refs.primaryMap) {\r\n      this.backingMapHeight = ((this.$refs.primaryMap as Vue[])[0]?.$el as HTMLElement).offsetHeight;\r\n    }\r\n  }\r\n\r\n  handleMapClick(index: number) {\r\n    if (index !== 0) {\r\n      this.handleBackingMapClick();\r\n    } else {\r\n      this.handlePrimaryMapClick(this.group.mapList[index]);\r\n    }\r\n  }\r\n\r\n  handleBackingMapClick() {\r\n    this.$emit('group-selected', this.group);\r\n  }\r\n\r\n  handlePrimaryMapClick(map: GeneticsMap) {\r\n    setTimeout(() => {\r\n      this.$emit('map-selected', map);\r\n    }, 100);\r\n  }\r\n\r\n  handleBackingMapMouseEnter() {\r\n    this.isMouseHoveringBackingMap = true;\r\n  }\r\n\r\n  handleMouseLeave(index: number) {\r\n    if (index === 0) {\r\n      this.isLongPressingMap = false;\r\n    } else {\r\n      this.isMouseHoveringBackingMap = false;\r\n    }\r\n  }\r\n\r\n  handleMouseDown() {\r\n    this.isLongPressingMap = true;\r\n    setTimeout(() => {\r\n      if (this.isLongPressingMap) {\r\n        this.$emit('group-selected', this.group);\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  handleMouseUp() {\r\n    this.isLongPressingMap = false;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimulationMapGroup.vue?vue&type=template&id=f3b10d08&scoped=true&\"\nimport script from \"./SimulationMapGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimulationMapGroup.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SimulationMapGroup.vue?vue&type=style&index=0&id=f3b10d08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3b10d08\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport GeneEnum from '@/enums/gene.enum';\r\nimport { GeneticsMap, GeneticsMapGroup } from '@/services/crossbreeding-service/models';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport InViewAnchor from './InViewAnchor.vue';\r\nimport SimulationMapGroup from './SimulationMapGroup.vue';\r\n\r\n@Component({\r\n  components: { SimulationMapGroup, InViewAnchor }\r\n})\r\nexport default class SimulationResults extends Vue {\r\n  @Prop({ type: Array }) readonly mapGroups: GeneticsMapGroup[];\r\n  @Prop({ type: Object }) readonly highlightedMap: GeneticsMap;\r\n\r\n  filteringGenes: { [key: string]: string | null } = {\r\n    gene0: '',\r\n    gene1: '',\r\n    gene2: '',\r\n    gene3: '',\r\n    gene4: '',\r\n    gene5: ''\r\n  };\r\n\r\n  geneCount: { [key: string]: string | null } = {\r\n    gCount: '',\r\n    yCount: '',\r\n    hCount: ''\r\n  };\r\n\r\n  geneCountRules = [\r\n    (v: number) => !v || v >= 0 || 'Minimum is zero..',\r\n    (v: number) => !v || v <= 6 || 'No more than six...',\r\n    (v: number) => !v || v % 1 === 0 || 'Must be a whole number...'\r\n  ];\r\n\r\n  page = 2;\r\n  itemsPerPage = 3;\r\n  isFormValid = true;\r\n\r\n  get filteredMapGroups() {\r\n    let mapGroups = this.mapGroups || [];\r\n\r\n    if (!this.isFormValid) {\r\n      return mapGroups;\r\n    }\r\n\r\n    [GeneEnum.Y, GeneEnum.G, GeneEnum.H].forEach((geneName) => {\r\n      if (this.geneCount[`${geneName.toLowerCase()}Count`]) {\r\n        mapGroups = mapGroups.filter(\r\n          (group) =>\r\n            (group.mapList[0].resultSapling[`numberOf${geneName}s`] as Function)() ===\r\n            Number(this.geneCount[`${geneName.toLowerCase()}Count`])\r\n        );\r\n      }\r\n    });\r\n\r\n    if (this.hasGeneFiltersApplied) {\r\n      mapGroups = mapGroups.filter((group) => {\r\n        let allGenesMatch = true;\r\n        for (let i = 0; i < 6; i++) {\r\n          if (\r\n            this.filteringGenes[`gene${i}`] !== '' &&\r\n            !(this.filteringGenes[`gene${i}`] || '')\r\n              .toUpperCase()\r\n              .split('/')\r\n              .includes(group.mapList[0].resultSapling.genes[i].type)\r\n          ) {\r\n            allGenesMatch = false;\r\n          }\r\n        }\r\n        return allGenesMatch;\r\n      });\r\n    }\r\n\r\n    return mapGroups;\r\n  }\r\n\r\n  get hasGeneFiltersApplied() {\r\n    return (\r\n      this.filteringGenes.gene0 !== '' ||\r\n      this.filteringGenes.gene1 !== '' ||\r\n      this.filteringGenes.gene2 !== '' ||\r\n      this.filteringGenes.gene3 !== '' ||\r\n      this.filteringGenes.gene4 !== '' ||\r\n      this.filteringGenes.gene5 !== ''\r\n    );\r\n  }\r\n\r\n  get visibleMapGroups() {\r\n    return this.filteredMapGroups.slice(0, this.page * this.itemsPerPage);\r\n  }\r\n\r\n  get hasMore() {\r\n    return this.filteredMapGroups.length > this.visibleMapGroups.length;\r\n  }\r\n\r\n  handleMapSelectedEvent(map: GeneticsMap) {\r\n    this.$emit('map-selected', map);\r\n  }\r\n\r\n  handleGroupSelectedEvent(group: GeneticsMapGroup) {\r\n    this.$emit('group-selected', group);\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 2;\r\n  }\r\n\r\n  showMore() {\r\n    this.page = this.page + 1;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationResults.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationResults.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimulationResults.vue?vue&type=template&id=2aa026ad&scoped=true&\"\nimport script from \"./SimulationResults.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimulationResults.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SimulationResults.vue?vue&type=style&index=0&id=2aa026ad&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aa026ad\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VContainer,VForm,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{model:{value:(_vm.isFormValid),callback:function ($$v) {_vm.isFormValid=$$v},expression:\"isFormValid\"}},[_c('v-dialog',{attrs:{\"width\":\"600\"},on:{\"click:outside\":_vm.undoChanges},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({},'v-btn',attrs,false),on),[_vm._v(\" Options \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-cog \")])],1)]}}]),model:{value:(_vm.isDialogOpen),callback:function ($$v) {_vm.isDialogOpen=$$v},expression:\"isDialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline px-3 px-sm-5\",attrs:{\"primary-title\":\"\"}},[_c('h2',{staticClass:\"text-h5\"},[_vm._v(\"Options\")]),_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-auto\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.resetToDefaults}},'v-btn',attrs,false),on),[_vm._v(\" Reset \")])]}}])},[_c('span',[_vm._v(\"Resets options to default values. Don't forget to click Set/Save after.\")])])],1),_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(\"Crossbreeding\")]),_c('v-tab',[_vm._v(\"UI & Sounds\")])],1),_c('v-divider'),_c('v-card-text',{staticClass:\"px-0\"},[_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{staticClass:\"px-5\"},[_c('v-slider',{staticClass:\"mt-8\",attrs:{\"label\":\"Number of Workers\",\"min\":\"1\",\"max\":_vm.maxNumberOfWorkers,\"ticks\":\"always\",\"tick-labels\":_vm.numberOfWorkersLabels,\"hint\":\"Controls how many background workers are spawned during the calculation. A higher number means the calculation will be finished quicker, but it may cause your processor to be overloaded. If your device is struggling just lower the number.\",\"persistent-hint\":\"\"},model:{value:(_vm.options.numberOfWorkers),callback:function ($$v) {_vm.$set(_vm.options, \"numberOfWorkers\", _vm._n($$v))},expression:\"options.numberOfWorkers\"}}),_c('v-range-slider',{staticClass:\"mt-5\",attrs:{\"min\":\"2\",\"max\":\"8\",\"tick-labels\":_vm.maxCrossbreedingSaplingsLabels,\"ticks\":\"always\",\"tick-size\":\"2\",\"label\":\"Crossbreeding Saplings Range\",\"hint\":\"Controls the range of Saplings that can be used for a single Crossbreeding session. It seems that range from 2 to 5 is a sweet spot between effectiveness and calculation speed. It is possible that we are missing some results if this value is not set to the extremes, but it saves a lot of processing time.\",\"persistent-hint\":\"\"},model:{value:(_vm.crossbreedingSaplingsNumberRange),callback:function ($$v) {_vm.crossbreedingSaplingsNumberRange=$$v},expression:\"crossbreedingSaplingsNumberRange\"}}),_c('v-slider',{staticClass:\"mt-8\",attrs:{\"label\":\"Number of Generations\",\"min\":\"1\",\"max\":\"3\",\"tick-labels\":_vm.numberOfGenerationLabels,\"ticks\":\"always\",\"tick-size\":\"2\"},model:{value:(_vm.options.numberOfGenerations),callback:function ($$v) {_vm.$set(_vm.options, \"numberOfGenerations\", _vm._n($$v))},expression:\"options.numberOfGenerations\"}}),_c('v-text-field',{staticClass:\"mt-6\",attrs:{\"type\":\"number\",\"label\":\"Saplings added to next Generation\",\"hint\":\"Number of best result Saplings from current Generation that are added to calculation for next Generation.\",\"persistent-hint\":\"\",\"rules\":_vm.numberOfSaplingsAddedBetweenGenerationsRules,\"min\":\"1\"},model:{value:(_vm.options.numberOfSaplingsAddedBetweenGenerations),callback:function ($$v) {_vm.$set(_vm.options, \"numberOfSaplingsAddedBetweenGenerations\", _vm._n($$v))},expression:\"options.numberOfSaplingsAddedBetweenGenerations\"}}),_c('v-checkbox',{staticClass:\"mt-5\",attrs:{\"label\":\"Check combinations with repetitions\",\"hint\":\"Additionally, checks combinations where one plant is used more than once in one crossbreeding session. Slightly increases processing time.\",\"persistent-hint\":\"\"},model:{value:(_vm.options.withRepetitions),callback:function ($$v) {_vm.$set(_vm.options, \"withRepetitions\", $$v)},expression:\"options.withRepetitions\"}}),_c('v-container',{staticClass:\"mt-10 pa-0\"},[_c('span',{staticClass:\"v-label\"},[_vm._v(\"Gene Scores\")]),_c('v-row',{staticClass:\"pl-2 pr-2\"},_vm._l((_vm.scoreInputs),function(geneScore){return _c('v-col',{key:geneScore.key,staticClass:\"pl-1 pr-1\"},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":geneScore.key,\"rules\":_vm.geneScoreRules},on:{\"input\":_vm.handleGeneScoreChange},model:{value:(_vm.options.geneScores[geneScore.key]),callback:function ($$v) {_vm.$set(_vm.options.geneScores, geneScore.key, _vm._n($$v))},expression:\"options.geneScores[geneScore.key]\"}})],1)}),1)],1),_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"label\":\"Manual Minimum Tracked Score\",\"hint\":\"Setting a lower Minimum Tracked Score can increase memory consumption.\",\"persistent-hint\":\"\"},on:{\"change\":_vm.handleModifyMinimumTrackedScoreManuallyChange},model:{value:(_vm.options.modifyMinimumTrackedScoreManually),callback:function ($$v) {_vm.$set(_vm.options, \"modifyMinimumTrackedScoreManually\", $$v)},expression:\"options.modifyMinimumTrackedScoreManually\"}}),_c('v-text-field',{staticClass:\"mt-2\",attrs:{\"type\":\"number\",\"disabled\":!_vm.options.modifyMinimumTrackedScoreManually,\"label\":\"Minimum Tracked Score\",\"rules\":_vm.minimumTrackedScoreRules},model:{value:(_vm.options.minimumTrackedScore),callback:function ($$v) {_vm.$set(_vm.options, \"minimumTrackedScore\", _vm._n($$v))},expression:\"options.minimumTrackedScore\"}})],1),_c('v-tab-item',{staticClass:\"px-5\"},[_c('v-switch',{attrs:{\"label\":(\"Switch to \" + (!_vm.options.darkMode ? 'Dark' : 'Light') + \" Mode\")},on:{\"change\":_vm.handleUIModeChange},model:{value:(_vm.options.darkMode),callback:function ($$v) {_vm.$set(_vm.options, \"darkMode\", $$v)},expression:\"options.darkMode\"}}),_c('v-switch',{staticClass:\"mt-0\",attrs:{\"label\":(\"Sounds: \" + (_vm.options.sounds ? 'On' : 'Off'))},model:{value:(_vm.options.sounds),callback:function ($$v) {_vm.$set(_vm.options, \"sounds\", $$v)},expression:\"options.sounds\"}}),(_vm.shouldDisplayScreenCaptureOptions)?_c('v-switch',{staticClass:\"mt-0\",attrs:{\"label\":(\"Skip Scanning Guide: \" + (_vm.options.skipScannerGuide ? 'Yes' : 'No'))},model:{value:(_vm.options.skipScannerGuide),callback:function ($$v) {_vm.$set(_vm.options, \"skipScannerGuide\", $$v)},expression:\"options.skipScannerGuide\"}}):_vm._e(),(_vm.functionalCookiesAccepted)?_c('v-switch',{staticClass:\"mt-0\",attrs:{\"label\":(\"Automatically save calculated input genes: \" + (_vm.options.autoSaveInputSets ? 'Yes' : 'No')),\"hint\":\"Turning this off enables a save button that allows you to decide which genes you want to save.\",\"persistent-hint\":\"\"},model:{value:(_vm.options.autoSaveInputSets),callback:function ($$v) {_vm.$set(_vm.options, \"autoSaveInputSets\", $$v)},expression:\"options.autoSaveInputSets\"}}):_vm._e()],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.handleCloseButtonClick}},[_vm._v(\" Close \")]),_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-2\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.isFormValid},on:{\"click\":_vm.setOptions}},'v-btn',attrs,false),on),[_vm._v(\" Set \")])]}}])},[_c('span',[_vm._v(\"Sets the selected options for as long as the App is open.\")])]),(_vm.functionalCookiesAccepted)?_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-2\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.isFormValid},on:{\"click\":_vm.saveOptions}},'v-btn',attrs,false),on),[_vm._v(\" Save \")])]}}],null,false,666759262)},[_c('span',[_vm._v(\"Sets and remembers the selected options for the next time you use the App.\")])]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function playAudio(audioElementName: string, volume: number) {\r\n  const audioElement = document.getElementById(audioElementName);\r\n  if (audioElement) {\r\n    const headshotAudio = audioElement.cloneNode() as HTMLElement & {\r\n      volume: string;\r\n      play: () => void;\r\n    };\r\n    if (headshotAudio) {\r\n      headshotAudio.volume = volume.toString();\r\n      headshotAudio.play();\r\n    }\r\n  }\r\n}\r\n\r\nexport function isScanningAvailable() {\r\n  return navigator.mediaDevices && 'getDisplayMedia' in navigator.mediaDevices;\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport GeneEnum from '../enums/gene.enum';\r\nimport ApplicationOptions from '../interfaces/application-options';\r\nimport { getCookie, setCookie } from 'typescript-cookie';\r\nimport { isScanningAvailable } from '@/lib/ui-utils';\r\n\r\n/**\r\n * This property is used to version the options saved in the cookies.\r\n * If the structure of the options would change in the future this value should be incremented\r\n * to invalidate obsolote options saved by the User.\r\n */\r\nconst OPTIONS_VERSION = 4;\r\nconst hardwareConcurrency = navigator.hardwareConcurrency;\r\nexport const OPTIONS_COOKIE_PREFIX = 'options-v';\r\nconst OPTIONS_COOKIE_KEY = `${OPTIONS_COOKIE_PREFIX}${OPTIONS_VERSION}`;\r\nconst DEFAULT_OPTIONS: ApplicationOptions = {\r\n  withRepetitions: true,\r\n  modifyMinimumTrackedScoreManually: false,\r\n  minCrossbreedingSaplingsNumber: 2,\r\n  maxCrossbreedingSaplingsNumber: 5,\r\n  numberOfGenerations: 2,\r\n  numberOfSaplingsAddedBetweenGenerations: 20,\r\n  minimumTrackedScore: 4,\r\n  geneScores: {\r\n    [GeneEnum.G]: 1,\r\n    [GeneEnum.Y]: 1,\r\n    [GeneEnum.H]: 0.5,\r\n    [GeneEnum.X]: 0,\r\n    [GeneEnum.W]: 0\r\n  },\r\n  darkMode: true,\r\n  skipScannerGuide: false,\r\n  autoSaveInputSets: true,\r\n  sounds: true,\r\n  numberOfWorkers: hardwareConcurrency\r\n};\r\nconst STORED_OPTIONS = getCookie(OPTIONS_COOKIE_KEY);\r\n\r\n@Component\r\nexport default class Options extends Vue {\r\n  @Prop({ type: Boolean }) readonly functionalCookiesAccepted: boolean;\r\n  isDialogOpen = false;\r\n  isFormValid = false;\r\n  tab = null;\r\n\r\n  currentlySetOptions: ApplicationOptions = STORED_OPTIONS\r\n    ? JSON.parse(STORED_OPTIONS)\r\n    : JSON.parse(JSON.stringify(DEFAULT_OPTIONS));\r\n  options: ApplicationOptions = JSON.parse(JSON.stringify(this.currentlySetOptions));\r\n\r\n  crossbreedingSaplingsNumberRange = [\r\n    this.options.minCrossbreedingSaplingsNumber,\r\n    this.options.maxCrossbreedingSaplingsNumber\r\n  ];\r\n\r\n  numberOfGenerationLabels = ['one', 'two', 'three'];\r\n  maxCrossbreedingSaplingsLabels = ['2', '3', '4', '5', '6', '7', '8'];\r\n  shouldDisplayScreenCaptureOptions = false;\r\n\r\n  geneScoreRules = [\r\n    (v: number | string) => (v !== '' && Number(v) >= -1 && Number(v) <= 1) || 'It has to be a number between -1 and 1.'\r\n  ];\r\n  numberOfSaplingsAddedBetweenGenerationsRules = [\r\n    (v: number | string) => (v !== '' && Number(v) >= 1 && Number.isInteger(Number(v))) || 'Must be a positive integer.'\r\n  ];\r\n  minimumTrackedScoreRules = [\r\n    (v: number | string) => (v !== '' && Number(v) >= -6 && Number(v) <= 6) || `Acceptable range: -6 to 6.`\r\n  ];\r\n\r\n  get maxNumberOfWorkers() {\r\n    return hardwareConcurrency;\r\n  }\r\n\r\n  get numberOfWorkersLabels() {\r\n    const modBy = this.maxNumberOfWorkers >= 24 ? 4 : this.maxNumberOfWorkers >= 16 ? 2 : 1;\r\n    return Array.from({ length: this.maxNumberOfWorkers }, (value, index) => {\r\n      const currentNumberOfWorkers = index + 1;\r\n      return currentNumberOfWorkers % modBy === 0 ? currentNumberOfWorkers.toString() : '';\r\n    });\r\n  }\r\n\r\n  get scoreInputs() {\r\n    return Object.keys(this.options.geneScores || {})\r\n      .map((key) => ({ key: key as GeneEnum, value: this.options.geneScores?.[key as GeneEnum] }))\r\n      .filter((item, index) => index < 5);\r\n  }\r\n\r\n  get minimumTrackedScoreDerived() {\r\n    const highestGeneScore = Math.max(...Object.values(this.options.geneScores));\r\n    return highestGeneScore * 4;\r\n  }\r\n\r\n  created() {\r\n    this.shouldDisplayScreenCaptureOptions = isScanningAvailable();\r\n\r\n    // In case someone would change a processor in his PC and his navigator.hardwareConcurrency would be lower than before,\r\n    // for best performance we want to maintain a value that is not higher than navigator.hardwareConcurrency.\r\n    const reasonableNumberOfWorkers = Math.min(this.currentlySetOptions.numberOfWorkers, navigator.hardwareConcurrency);\r\n    this.currentlySetOptions.numberOfWorkers = reasonableNumberOfWorkers;\r\n    this.options.numberOfWorkers = reasonableNumberOfWorkers;\r\n  }\r\n\r\n  mounted() {\r\n    this.$vuetify.theme.dark = this.currentlySetOptions.darkMode;\r\n  }\r\n\r\n  handleModifyMinimumTrackedScoreManuallyChange(value: boolean) {\r\n    if (!value) {\r\n      this.options.minimumTrackedScore = this.minimumTrackedScoreDerived;\r\n    }\r\n  }\r\n\r\n  handleGeneScoreChange() {\r\n    if (!this.options.modifyMinimumTrackedScoreManually) {\r\n      this.options.minimumTrackedScore = this.minimumTrackedScoreDerived;\r\n    }\r\n  }\r\n\r\n  undoChanges() {\r\n    this.resetTo(this.currentlySetOptions);\r\n  }\r\n\r\n  resetToDefaults() {\r\n    this.resetTo(DEFAULT_OPTIONS);\r\n  }\r\n\r\n  resetTo(options: ApplicationOptions) {\r\n    this.options = JSON.parse(JSON.stringify(options));\r\n    this.crossbreedingSaplingsNumberRange = [\r\n      this.options.minCrossbreedingSaplingsNumber,\r\n      this.options.maxCrossbreedingSaplingsNumber\r\n    ];\r\n    this.$vuetify.theme.dark = this.options.darkMode;\r\n  }\r\n\r\n  getOptions() {\r\n    return this.currentlySetOptions;\r\n  }\r\n\r\n  handleCloseButtonClick() {\r\n    this.undoChanges();\r\n    this.isDialogOpen = false;\r\n  }\r\n\r\n  setOptions() {\r\n    this.options.minCrossbreedingSaplingsNumber = this.crossbreedingSaplingsNumberRange[0];\r\n    this.options.maxCrossbreedingSaplingsNumber = this.crossbreedingSaplingsNumberRange[1];\r\n    this.currentlySetOptions = JSON.parse(JSON.stringify(this.options));\r\n    this.$emit('options-set', this.currentlySetOptions);\r\n    this.isDialogOpen = false;\r\n  }\r\n\r\n  saveOptions() {\r\n    this.setOptions();\r\n    this.storeOptionsInCookie();\r\n    this.isDialogOpen = false;\r\n  }\r\n\r\n  handleUIModeChange(checked: boolean) {\r\n    this.$vuetify.theme.dark = checked;\r\n  }\r\n\r\n  storeOptionsInCookie() {\r\n    setCookie(OPTIONS_COOKIE_KEY, JSON.stringify(this.currentlySetOptions), {\r\n      expires: 356 * 5\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Options.vue?vue&type=template&id=095af92c&\"\nimport script from \"./Options.vue?vue&type=script&lang=ts&\"\nexport * from \"./Options.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRangeSlider } from 'vuetify/lib/components/VRangeSlider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VCol,VContainer,VDialog,VDivider,VForm,VIcon,VRangeSlider,VRow,VSlider,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gene-inputs\"},[_c('div',{staticClass:\"gene-inputs_tabs-container\"},[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(_vm._s(_vm.functionalCookiesAccepted ? 'Current' : 'Genes'))]),(_vm.functionalCookiesAccepted)?_c('v-tab',{class:{ 'gene-inputs_tab--animate': _vm.animatePreviousGenesTabIn }},[_vm._v(\"Saved\")]):_vm._e()],1),(_vm.functionalCookiesAccepted && !_vm.autoSaveInputSets && _vm.tab !== 1)?_c('v-btn',{staticClass:\"gene-inputs_store-button\",attrs:{\"tile\":!_vm.$vuetify.breakpoint.xsOnly,\"icon\":_vm.$vuetify.breakpoint.xsOnly,\"disabled\":!_vm.isFormValid,\"plain\":\"\"},on:{\"click\":_vm.handleStoreSetClick}},[_c('v-icon',{class:{ 'mr-1': !_vm.$vuetify.breakpoint.xsOnly },attrs:{\"left\":!_vm.$vuetify.breakpoint.xsOnly}},[_vm._v(\" mdi-plus \")]),(!_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_vm._v(\"Save\")]):_vm._e()],1):_vm._e()],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-form',{ref:\"form\",attrs:{\"spellcheck\":\"false\"},model:{value:(_vm.isFormValid),callback:function ($$v) {_vm.isFormValid=$$v},expression:\"isFormValid\"}},[_c('SaplingInputHighlights',{attrs:{\"input-string\":_vm.saplingGenes,\"highlighted-map\":_vm.highlightedMap}}),_c('SaplingListNumbering',{attrs:{\"sapling-gene-list\":_vm.saplingGeneList}}),_c('v-textarea',{ref:\"saplingGenesInput\",staticClass:\"gene-inputs_input\",attrs:{\"full-width\":\"\",\"placeholder\":_vm.placeholder,\"label\":\"Add your genes here...\",\"value\":_vm.saplingGenes,\"outlined\":\"\",\"no-resize\":\"\",\"disabled\":_vm.disabled,\"rows\":Math.max(5, _vm.saplingGenes.split(\"\\n\").length || 0),\"rules\":_vm.sourceSaplingRules,\"autocomplete\":\"off\"},on:{\"input\":function($event){return _vm.handleSaplingGenesInput($event)},\"blur\":_vm.handleSaplingGenesInputBlur,\"focus\":_vm.handleSaplingGenesInputFocus,\"keydown\":function($event){return _vm.handleSaplingGenesInputKeyDown($event)}}}),_c('SaplingListPreview',{ref:\"saplingListPreview\",attrs:{\"sapling-gene-list\":_vm.saplingGeneList,\"highlight-errors\":_vm.highlightInputErrors}})],1)],1),(_vm.functionalCookiesAccepted)?_c('v-tab-item',{attrs:{\"eager\":\"\"}},[_c('PreviousGenes',{ref:\"previousGenes\",attrs:{\"selected-plant-type-name\":_vm.selectedPlantTypeName},on:{\"genes-selected\":_vm.handlePreviousGenesSelectedEvent}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-highlights\"},_vm._l((_vm.crossbreedingHighlightsPositions),function(highlightPosition,index){return _c('div',{key:index,staticClass:\"input-highlights_gene-highlight\",class:{ 'input-highlights_gene-highlight--for-base': highlightPosition.isBase },style:({\n      top: 7 + highlightPosition.position * 28 + 'px'\n    })},[_vm._v(\" \"+_vm._s(highlightPosition.saplingGeneString)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Sapling from '@/models/sapling.model';\r\nimport { GeneticsMap } from '@/services/crossbreeding-service/models';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class SaplingInputHighlights extends Vue {\r\n  @Prop({ type: Object }) readonly highlightedMap: GeneticsMap;\r\n  @Prop({ type: String }) readonly inputString: string;\r\n\r\n  get crossbreedingHighlightsPositions() {\r\n    let positions: { position: number; saplingGeneString: string; isBase: boolean }[] = [];\r\n    if (this.highlightedMap && this.inputString) {\r\n      positions = [\r\n        ...positions,\r\n        ...this.calculatePositions(this.highlightedMap.crossbreedingSaplings).map((positionData) => ({\r\n          ...positionData,\r\n          isBase: false\r\n        }))\r\n      ];\r\n\r\n      if (this.highlightedMap.baseSapling) {\r\n        positions = [\r\n          ...positions,\r\n          ...this.calculatePositions([this.highlightedMap.baseSapling]).map((positionData) => ({\r\n            ...positionData,\r\n            isBase: true\r\n          }))\r\n        ];\r\n      }\r\n    }\r\n    return positions;\r\n  }\r\n\r\n  get baseHighlightsPositions() {\r\n    if (this.highlightedMap && this.highlightedMap.baseSapling && this.inputString) {\r\n      return this.calculatePositions([this.highlightedMap.baseSapling]);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  calculatePositions(saplingList: Sapling[]) {\r\n    const positions: { position: number; saplingGeneString: string }[] = [];\r\n    const inputSaplingStrings = this.inputString.trim().split(/\\r?\\n/);\r\n    saplingList.forEach((sapling) => {\r\n      const saplingGeneString = sapling.genes.map((gene) => gene.type.toString()).join('');\r\n      const position = inputSaplingStrings.indexOf(saplingGeneString);\r\n      if (position !== -1 && positions.map((positionObj) => positionObj.position).indexOf(position) === -1) {\r\n        positions.push({ position, saplingGeneString: saplingGeneString });\r\n      }\r\n    });\r\n    return positions;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingInputHighlights.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingInputHighlights.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingInputHighlights.vue?vue&type=template&id=2c84e450&scoped=true&\"\nimport script from \"./SaplingInputHighlights.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingInputHighlights.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingInputHighlights.vue?vue&type=style&index=0&id=2c84e450&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c84e450\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sapling-list-preview\"},[_c('ul',_vm._l((_vm.saplingList),function(sapling,index){return _c('li',{key:index},[_c('SaplingGeneRepresentation',{staticClass:\"sapling-list-preview_sapling\",attrs:{\"sapling\":sapling,\"highlight-errors\":_vm.highlightErrors}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Sapling from '@/models/sapling.model';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport SaplingGeneRepresentation from './SaplingGeneRepresentation.vue';\r\nimport goTo from 'vuetify/lib/services/goto';\r\n\r\n@Component({\r\n  components: { SaplingGeneRepresentation }\r\n})\r\nexport default class SaplingListPreview extends Vue {\r\n  @Prop({ type: Array, required: true }) readonly saplingGeneList!: string[];\r\n  @Prop({ type: Boolean, default: false }) readonly highlightErrors: boolean;\r\n\r\n  get saplingList() {\r\n    return this.saplingGeneList.map((genes) => new Sapling(genes));\r\n  }\r\n\r\n  animateAndScrollToLastSapling() {\r\n    this.$nextTick(() => {\r\n      const lastSaplingGeneRepresentationElement = this.$el.querySelector(\r\n        'li:last-child .sapling-list-preview_sapling'\r\n      );\r\n      lastSaplingGeneRepresentationElement?.classList.add('sapling-list-preview_sapling--animate');\r\n      setTimeout(() => {\r\n        lastSaplingGeneRepresentationElement?.classList.remove('sapling-list-preview_sapling--animate');\r\n      }, 400);\r\n\r\n      if (lastSaplingGeneRepresentationElement) {\r\n        const rect = lastSaplingGeneRepresentationElement.getBoundingClientRect();\r\n        const isInView =\r\n          rect.top >= 0 &&\r\n          rect.left >= 0 &&\r\n          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n          rect.right <= (window.innerWidth || document.documentElement.clientWidth);\r\n        if (!isInView) {\r\n          const topDistanceToCenterize =\r\n            rect.top + window.scrollY - (window.innerHeight || document.documentElement.clientHeight) / 2;\r\n          goTo(topDistanceToCenterize, { duration: 100 });\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListPreview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListPreview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingListPreview.vue?vue&type=template&id=64cfee47&scoped=true&\"\nimport script from \"./SaplingListPreview.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingListPreview.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingListPreview.vue?vue&type=style&index=0&id=64cfee47&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64cfee47\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sapling-list-numbering\"},[(_vm.showLegend)?_c('span',{staticClass:\"sapling-list-numbering_legend\"},[_vm._v(\"#\")]):_vm._e(),_c('ul',_vm._l((_vm.saplingGeneList),function(saplingGenes,index){return _c('li',{key:index,staticClass:\"sapling-list-numbering_number\",class:{\n        'sapling-list-numbering_number--special': index !== 0 && index % 6 === 0 && _vm.showSpecial\n      }},[_vm._v(\" \"+_vm._s(index + 1)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport SaplingGeneRepresentation from './SaplingGeneRepresentation.vue';\r\n\r\n@Component({\r\n  components: { SaplingGeneRepresentation }\r\n})\r\nexport default class SaplingListNumbering extends Vue {\r\n  @Prop({ type: Array, required: true }) readonly saplingGeneList!: string[];\r\n\r\n  get showLegend() {\r\n    return this.saplingGeneList && this.saplingGeneList.length > 0;\r\n  }\r\n\r\n  get showSpecial() {\r\n    return this.saplingGeneList && this.saplingGeneList.length > 6;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListNumbering.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingListNumbering.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingListNumbering.vue?vue&type=template&id=3ff5b808&scoped=true&\"\nimport script from \"./SaplingListNumbering.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingListNumbering.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingListNumbering.vue?vue&type=style&index=0&id=3ff5b808&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ff5b808\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previous-genes mb-7\"},[(_vm.storedSets.length === 0)?_c('div',{staticClass:\"text-center my-6\"},[_vm._v(\"You don't have any saved gene sets.\")]):_vm._e(),_c('ul',{staticClass:\"pl-0\"},_vm._l((_vm.storedSetsDetailed),function(storedSet,index){return _c('li',{key:index},[_c('v-card',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"previous-genes_card d-flex align-center justify-space-between\",on:{\"click\":function($event){return _vm.handleSetSelect(index)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSetSelect(index)}}},[_c('img',{staticClass:\"mx-2\",attrs:{\"src\":(\"/img/\" + (storedSet.imgName) + \".png\")}}),_c('span',{staticClass:\"px-2 previous-genes_count\"},[_vm._v(\"Genes: \"+_vm._s(storedSet.saplingsCount))]),_c('span',[_vm._v(_vm._s(storedSet.dateString))]),_c('v-btn',{staticClass:\"mx-1\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleRemoveSetClick($event, index)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport StoredSet from '@/interfaces/stored-set';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\nconst GENE_SETS_KEY = 'PREVIOUS_GENE_SETS';\r\nconst MAX_STORED_SETS = 200;\r\n\r\n@Component\r\nexport default class PreviousGenes extends Vue {\r\n  @Prop({ type: String }) readonly selectedPlantTypeName: string;\r\n  storedSets: StoredSet[] = [];\r\n\r\n  get storedSetsDetailed() {\r\n    return this.storedSets.map((set) => ({\r\n      ...set,\r\n      saplingsCount: set.genes.split('\\n').length,\r\n      dateString: new Date(set.timestamp).toLocaleString(),\r\n      imgName: set.selectedPlantTypeName || 'mixed-berry'\r\n    }));\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    window.addEventListener('storage', () => {\r\n      this.loadStoredSets();\r\n    });\r\n  }\r\n\r\n  mounted() {\r\n    this.loadStoredSets();\r\n  }\r\n\r\n  loadStoredSets() {\r\n    const storedSetsJSON = localStorage.getItem(GENE_SETS_KEY);\r\n    if (storedSetsJSON) {\r\n      this.storedSets = JSON.parse(storedSetsJSON);\r\n    }\r\n  }\r\n\r\n  storeSets() {\r\n    localStorage.setItem(GENE_SETS_KEY, JSON.stringify(this.storedSets));\r\n  }\r\n\r\n  addNewSet(genes: string) {\r\n    this.loadStoredSets();\r\n    if (\r\n      !this.storedSets.find((set) => set.genes === genes && set.selectedPlantTypeName === this.selectedPlantTypeName)\r\n    ) {\r\n      const newSet: StoredSet = {\r\n        timestamp: Date.now(),\r\n        selectedPlantTypeName: this.selectedPlantTypeName,\r\n        genes\r\n      };\r\n      this.storedSets = [newSet, ...this.storedSets];\r\n      if (this.storedSets.length > MAX_STORED_SETS) {\r\n        this.storedSets.pop();\r\n      }\r\n      this.storeSets();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleSetSelect(index: number) {\r\n    this.$emit('genes-selected', this.storedSets[index]);\r\n  }\r\n\r\n  handleRemoveSetClick(event: Event, index: number) {\r\n    event.stopPropagation();\r\n    this.storedSets.splice(index, 1);\r\n    this.storeSets();\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviousGenes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviousGenes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviousGenes.vue?vue&type=template&id=5c3045e2&scoped=true&\"\nimport script from \"./PreviousGenes.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviousGenes.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviousGenes.vue?vue&type=style&index=0&id=5c3045e2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c3045e2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VIcon})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","import Vue from 'vue';\r\n\r\nconst eventBus = new Vue();\r\nexport default eventBus;\r\n\r\nexport const GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED = 'selected-plant-type-changed';\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport SaplingInputHighlights from './SaplingInputHighlights.vue';\r\nimport SaplingListPreview from './SaplingListPreview.vue';\r\nimport SaplingListNumbering from './SaplingListNumbering.vue';\r\nimport PreviousGenes from './PreviousGenes.vue';\r\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { GeneticsMap } from '@/services/crossbreeding-service/models';\r\nimport { playAudio } from '@/lib/ui-utils';\r\nimport StoredSet from '@/interfaces/stored-set';\r\nimport eventBus, { GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED } from '@/lib/global-event-bus';\r\n\r\n@Component({\r\n  components: {\r\n    SaplingInputHighlights,\r\n    SaplingListPreview,\r\n    SaplingListNumbering,\r\n    PreviousGenes\r\n  }\r\n})\r\nexport default class GeneInputs extends Vue {\r\n  @Prop({ type: Boolean }) readonly functionalCookiesAccepted: boolean;\r\n  @Prop({ type: Boolean }) readonly disabled: boolean;\r\n  @Prop({ type: Boolean }) readonly soundsEnabled: boolean;\r\n  @Prop({ type: Boolean }) readonly autoSaveInputSets: boolean;\r\n  @Prop({ type: String }) readonly selectedPlantTypeName: string;\r\n  @Prop({ type: GeneticsMap, required: false }) readonly highlightedMap: GeneticsMap | null;\r\n\r\n  // fix for Safari not respecting new line in placeholder\r\n  placeholder = `YGXWHH\\nXWHYYG\\nGHGWYY\\netc...`.replaceAll('\\n', ' '.repeat(100));\r\n  saplingGenes = ``;\r\n  isFormValid = false;\r\n  isInputFocused = false;\r\n  animatePreviousGenesTabIn = false;\r\n  wasLastInputLongTimeAgo = false;\r\n  lastInputTimeStamp = null;\r\n  lastInputLongAgoTimeoutRef: undefined | NodeJS.Timeout;\r\n  tab = 0;\r\n\r\n  sourceSaplingRules = [\r\n    (v: string) =>\r\n      /^([GHWYX]{6}\\n{1})*([GHWYX]{6}\\n{0})*\\n*$/.test(v) ||\r\n      'The list of genes is incomplete or invalid. Review if you provided them all correctly.',\r\n    (v: string) => v !== '' || 'Give me some genes to work with!',\r\n    (v: string) => !/^([GHWYX]{6}\\n{0})*\\n*$/.test(v) || 'Give me some more genes to work with!'\r\n  ];\r\n\r\n  get saplingGeneList() {\r\n    return this.saplingGenes === '' ? [] : this.saplingGenes.trim().split(/\\r?\\n/);\r\n  }\r\n\r\n  get highlightInputErrors() {\r\n    return this.wasLastInputLongTimeAgo || !this.isInputFocused;\r\n  }\r\n\r\n  mounted() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const genesUrlParam = searchParams.get('genes');\r\n    if (genesUrlParam) {\r\n      this.saplingGenes = genesUrlParam.split(',').join('\\n');\r\n    }\r\n\r\n    if (this.saplingGenes !== '') {\r\n      this.checkFormValidity();\r\n    }\r\n  }\r\n\r\n  handleSaplingGenesInput(value: string) {\r\n    this.prepareCheckForDatedInputActivity();\r\n    const textarea = (this.$refs.saplingGenesInput as Vue).$el.querySelector('textarea');\r\n    if (textarea) {\r\n      const caretPosition = textarea.selectionStart;\r\n      this.saplingGenes = value;\r\n      this.onNextTickRerender(() => {\r\n        this.saplingGenes = value.toUpperCase().replace(/[^GHWYX\\n]/g, '');\r\n        if (this.saplingGenes.length !== 0 && this.saplingGenes.charAt(0).match(/\\r?\\n/)) {\r\n          this.saplingGenes = this.saplingGenes.slice(1);\r\n        }\r\n        this.checkFormValidity();\r\n        this.onNextTickRerender(() => {\r\n          textarea.selectionEnd = caretPosition + (this.saplingGenes.length - value.length);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  prepareCheckForDatedInputActivity() {\r\n    this.wasLastInputLongTimeAgo = false;\r\n    clearTimeout(this.lastInputLongAgoTimeoutRef);\r\n    this.lastInputLongAgoTimeoutRef = setTimeout(() => {\r\n      this.wasLastInputLongTimeAgo = true;\r\n    }, 2000);\r\n  }\r\n\r\n  handleSaplingGenesInputFocus() {\r\n    this.isInputFocused = true;\r\n    this.prepareCheckForDatedInputActivity();\r\n  }\r\n\r\n  handleSaplingGenesInputBlur() {\r\n    this.isInputFocused = false;\r\n    this.saplingGenes = this.saplingGenes.replaceAll(/[\\n]{2,}/g, '\\n');\r\n    this.saplingGenes = this.getDeduplicatedSaplingGeneList().join('\\n');\r\n    this.checkFormValidity();\r\n  }\r\n\r\n  handleStoreSetClick() {\r\n    this.storeCurrentSet();\r\n  }\r\n\r\n  checkFormValidity() {\r\n    this.onNextTickRerender(() => {\r\n      if ((this.$refs.form as Vue & { validate: () => boolean }).validate()) {\r\n        (this.$refs.form as Vue & { resetValidation: () => boolean }).resetValidation();\r\n      }\r\n      this.$emit('validity-change', this.isFormValid);\r\n    });\r\n  }\r\n\r\n  handleSaplingScannedEvent(value: string) {\r\n    if (this.saplingGenes.indexOf(value) === -1) {\r\n      if (!this.saplingGenes.charAt(this.saplingGenes.length - 1).match(/\\r?\\n/) && this.saplingGenes.length !== 0) {\r\n        this.saplingGenes += '\\n';\r\n      }\r\n      this.saplingGenes += value;\r\n      this.animateAndScrollToLastSapling();\r\n      this.playSaplingsScannedSound();\r\n      this.checkFormValidity();\r\n    }\r\n  }\r\n\r\n  handlePreviousGenesSelectedEvent(set: StoredSet) {\r\n    this.saplingGenes = set.genes;\r\n    eventBus.$emit(GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED, set.selectedPlantTypeName);\r\n    this.tab = 0;\r\n    this.checkFormValidity();\r\n    this.focusTextArea();\r\n  }\r\n\r\n  focusTextArea() {\r\n    this.onNextTickRerender(() => {\r\n      const textArea = (this.$refs.saplingGenesInput as Vue).$refs?.input as HTMLTextAreaElement;\r\n      textArea.focus();\r\n      textArea.setSelectionRange(textArea.value.length, textArea.value.length);\r\n    });\r\n  }\r\n\r\n  storeCurrentSet() {\r\n    const previousGenesComponent = this.$refs.previousGenes as PreviousGenes;\r\n    if (previousGenesComponent) {\r\n      const wasAdded = previousGenesComponent.addNewSet(this.saplingGenes);\r\n      if (wasAdded) {\r\n        this.animatePreviousGenesTab();\r\n      }\r\n    }\r\n  }\r\n\r\n  animatePreviousGenesTab() {\r\n    this.animatePreviousGenesTabIn = true;\r\n    setTimeout(() => {\r\n      this.animatePreviousGenesTabIn = false;\r\n    }, 700);\r\n  }\r\n\r\n  getDeduplicatedSaplingGeneList() {\r\n    const splitSaplingGenes: string[] = this.saplingGeneList;\r\n    const deduplicatedSaplingGenes: string[] = splitSaplingGenes.filter(\r\n      (genes, index, self) => index === self.findIndex((otherGenes) => otherGenes === genes)\r\n    );\r\n    return deduplicatedSaplingGenes;\r\n  }\r\n\r\n  handleSaplingGenesInputKeyDown(event: KeyboardEvent) {\r\n    const allowedKeys = [\r\n      'H',\r\n      'G',\r\n      'Y',\r\n      'X',\r\n      'W',\r\n      'Enter',\r\n      'Backspace',\r\n      'ArrowRight',\r\n      'ArrowLeft',\r\n      'ArrowUp',\r\n      'ArrowDown',\r\n      'End',\r\n      'Delete',\r\n      'Home',\r\n      'Shift',\r\n      'Alt',\r\n      'Control',\r\n      'Tab'\r\n    ];\r\n    if (\r\n      event.key &&\r\n      event.key !== 'Unidentified' &&\r\n      !(event.altKey || event.ctrlKey) &&\r\n      allowedKeys.indexOf(event.key) === -1 &&\r\n      allowedKeys.indexOf(event.key.toUpperCase()) === -1\r\n    ) {\r\n      this.playWrongKeySound();\r\n    }\r\n  }\r\n\r\n  animateAndScrollToLastSapling() {\r\n    (this.$refs.saplingListPreview as SaplingListPreview)?.animateAndScrollToLastSapling();\r\n  }\r\n\r\n  playSaplingsScannedSound() {\r\n    if (this.soundsEnabled) {\r\n      playAudio('saplingScannedAudio', 0.5);\r\n    }\r\n  }\r\n\r\n  playWrongKeySound() {\r\n    if (this.soundsEnabled) {\r\n      playAudio('wrongKeyAudio', 0.04);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneInputs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneInputs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GeneInputs.vue?vue&type=template&id=6a2ce92c&scoped=true&\"\nimport script from \"./GeneInputs.vue?vue&type=script&lang=ts&\"\nexport * from \"./GeneInputs.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GeneInputs.vue?vue&type=style&index=0&id=6a2ce92c&scoped=true&lang=scss&\"\nimport style1 from \"./GeneInputs.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a2ce92c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VForm,VIcon,VTab,VTabItem,VTabs,VTabsItems,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isHidden)?_c('span',{staticClass:\"ma-1\"},[(_vm.shouldDisplayScreenCaptureButton && !_vm.isScanning && !_vm.isInitializing)?_c('v-btn',{attrs:{\"disabled\":_vm.isDisabled},on:{\"click\":_vm.handleScanClick}},[_vm._v(\" Scan Rust \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-monitor-screenshot \")])],1):_vm._e(),(_vm.isInitializing || _vm.isScanning)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"red\",\"disabled\":_vm.isInitializing},on:{\"click\":_vm.stopCapturing}},[_vm._v(\" \"+_vm._s(_vm.isScanning ? 'Stop Scanning' : 'Initializing...')+\" \"),(_vm.isScanning)?_c('v-progress-circular',{staticClass:\"ml-2\",attrs:{\"indeterminate\":\"\",\"color\":\"white\",\"size\":\"15\",\"width\":\"2\"}}):_vm._e()],1):_vm._e(),_c('v-dialog',{attrs:{\"width\":\"600\"},model:{value:(_vm.isDialogOpen),callback:function ($$v) {_vm.isDialogOpen=$$v},expression:\"isDialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_c('h2',{staticClass:\"text-h5\"},[_vm._v(\"How to Scan Rust for Saplings?\")])]),_c('v-card-text',[_c('v-container',[_c('ol',[_c('li',[_c('p',[_vm._v(\" For best results, use \"),_c('strong',[_vm._v(\"Chrome\")]),_vm._v(\", \"),_c('strong',[_vm._v(\"Edge\")]),_vm._v(\" or \"),_c('strong',[_vm._v(\"Firefox\")]),_vm._v(\". Other browsers might not work correctly. \")])]),_c('li',[_c('p',[_vm._v(\" Make sure your \"),_c('v-chip',{attrs:{\"outlined\":\"\"}},[_vm._v(\"USER INTERFACE SCALE\")]),_vm._v(\" setting is set to \"),_c('v-chip',{attrs:{\"outlined\":\"\"}},[_vm._v(\"1.0\")]),_vm._v(\" in Rust. Sometimes the slider shows 1.0, but the value could be at 0.97. Run \"),_c('v-chip',{attrs:{\"outlined\":\"\"}},[_vm._v(\"graphics.uiscale\")]),_vm._v(\" command in the Rust console to see the actual value. \")],1)]),_c('li',[_c('p',[_vm._v(\" Make sure you run the game in \"),_c('v-chip',{attrs:{\"outlined\":\"\"}},[_vm._v(\"16:9\")]),_vm._v(\" aspect ratio resolution (1600x900, 1920x1080, 2560x1440 or 4K) and \"),_c('strong',[_vm._v(\"borderless\")]),_vm._v(\" mode. If you have a different resolution on your monitor, set Rust to \"),_c('strong',[_vm._v(\"windowed\")]),_vm._v(\" mode and select a 16:9 ratio resolution. \")],1)]),_c('li',[_c('p',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"SCAN\")]),_vm._v(\" and select Rust window.\")])]),_c('li',[_c('p',{staticClass:\"mb-0\"},[_vm._v(\" After the scanning begins, you need to display the genes on the screen by either: \")]),_c('ul',{staticClass:\"mb-3\"},[_c('li',[_vm._v(\"clicking on a Sapling in your inventory or storage,\")]),_c('li',[_vm._v(\"looking at a planted Sapling.\")])]),_c('p',[_vm._v(\" It takes about a second to capture each Sapling. \")])]),_c('li',[_c('p',{staticClass:\"mb-0\"},[_vm._v(\" Enjoy! If it doesn't work, let me know on Discord! You can also try scanning with \"),_c('b',[_vm._v(\"Display Preview\")]),_vm._v(\" active to find out what is wrong. \")])])])])],1),_c('v-divider'),_c('v-card-actions',[_c('v-switch',{staticClass:\"mt-0\",attrs:{\"label\":\"Display Preview\",\"hide-details\":\"\"},model:{value:(_vm.showPreview),callback:function ($$v) {_vm.showPreview=$$v},expression:\"showPreview\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.isDialogOpen = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.isDialogOpen = false;\n            _vm.startCapturing();}}},[_vm._v(\" Scan \")])],1)],1)],1),_c('sapling-screen-capture-preview',{ref:\"preview\",attrs:{\"is-open\":_vm.isScanning && _vm.showPreview}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-snackbar',{staticClass:\"scanner_preview\",attrs:{\"timeout\":\"-1\",\"right\":\"\",\"max-width\":\"350\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('p',{staticClass:\"text-center\"},[_vm._v(\" Scanner Preview \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-monitor-screenshot \")])],1),_c('div',{staticClass:\"scanner_preview-region pa-2\"},[_c('p',{staticClass:\"mb-3\"},[_vm._v(\" Inventory Region \"),_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"float-end\",attrs:{\"text\":\"\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-information-outline \")])]}}])},[_c('span',[_vm._v(\"Displays the scanned region from Rust, which should contain the genes of the Sapling from your inventory/box. Genes should fit nicely in the preview or the scanner will not be able to recognize them. If they don't, you should review your Rust settings. \")])])],1),_c('canvas',{ref:\"scannerPreview1\"})]),_c('div',{staticClass:\"scanner_preview-region mt-4 pa-2\"},[_c('p',{staticClass:\"mb-3\"},[_vm._v(\" Planter Region \"),_c('v-tooltip',{attrs:{\"top\":\"\",\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"float-end\",attrs:{\"text\":\"\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-information-outline \")])]}}])},[_c('span',[_vm._v(\"Displays the scanned region from Rust, which should contain the genes of the Sapling in the planter that you are looking at. Genes should fit nicely in the preview or the scanner will not be able to recognize them. If they don't, you should review your Rust settings. \")])])],1),_c('canvas',{ref:\"scannerPreview2\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class SaplingScreenCapturePreview extends Vue {\r\n  @Prop({ type: Boolean }) isOpen: boolean;\r\n\r\n  setPreview(regionIndex: number, imgData: ImageData) {\r\n    const previewCanvas = this.$refs[`scannerPreview${regionIndex + 1}`] as HTMLCanvasElement;\r\n    const previewCanvasCtx = previewCanvas.getContext('2d');\r\n    if (previewCanvasCtx) {\r\n      previewCanvas.width = imgData.width;\r\n      previewCanvas.height = imgData.height;\r\n      previewCanvasCtx.putImageData(imgData, 0, 0);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapturePreview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapturePreview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingScreenCapturePreview.vue?vue&type=template&id=4261ef65&scoped=true&\"\nimport script from \"./SaplingScreenCapturePreview.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingScreenCapturePreview.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingScreenCapturePreview.vue?vue&type=style&index=0&id=4261ef65&scoped=true&lang=scss&\"\nimport style1 from \"./SaplingScreenCapturePreview.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4261ef65\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VSnackbar,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { isScanningAvailable } from '@/lib/ui-utils';\r\nimport { PreviewData, ScreenCaptureServiceEventType } from '@/services/screen-capture/models';\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport screenCaptureService from '../services/screen-capture/screen-capture.service';\r\nimport SaplingScreenCapturePreview from './SaplingScreenCapturePreview.vue';\r\n\r\n@Component({ components: { SaplingScreenCapturePreview } })\r\nexport default class SaplingScreenCapture extends Vue {\r\n  @Prop({ type: Boolean }) isHidden: boolean;\r\n  @Prop({ type: Boolean }) isDisabled: boolean;\r\n  @Prop({ type: Boolean }) skipScannerGuide: boolean;\r\n\r\n  isDialogOpen = false;\r\n  showPreview = false;\r\n  isScanning = false;\r\n  isInitializing = false;\r\n  shouldDisplayScreenCaptureButton = false;\r\n\r\n  created() {\r\n    this.shouldDisplayScreenCaptureButton = isScanningAvailable();\r\n  }\r\n\r\n  mounted() {\r\n    screenCaptureService.addEventListener(this.onScreenCaptureServiceEvent);\r\n  }\r\n\r\n  handleScanClick() {\r\n    if (this.skipScannerGuide) {\r\n      this.startCapturing();\r\n    } else {\r\n      this.isDialogOpen = true;\r\n    }\r\n  }\r\n\r\n  startCapturing() {\r\n    screenCaptureService.startCapturing(this.showPreview);\r\n  }\r\n\r\n  stopCapturing() {\r\n    screenCaptureService.stopCapturing();\r\n  }\r\n\r\n  setPreview(regionIndex: number, imgData: ImageData) {\r\n    (this.$refs.preview as SaplingScreenCapturePreview)?.setPreview(regionIndex, imgData);\r\n  }\r\n\r\n  onScreenCaptureServiceEvent(eventType: ScreenCaptureServiceEventType, data?: string | PreviewData) {\r\n    if (eventType === 'INITIALIZING') {\r\n      this.isInitializing = true;\r\n    } else if (eventType === 'STARTED') {\r\n      this.isInitializing = false;\r\n      this.isScanning = true;\r\n      this.$emit('started-scanning');\r\n    } else if (eventType === 'STOPPED') {\r\n      this.isInitializing = false;\r\n      this.isScanning = false;\r\n      this.$emit('stopped-scanning');\r\n    } else if (eventType === 'SAPLING-FOUND') {\r\n      this.$emit('sapling-scanned', data);\r\n    } else if (eventType === 'PREVIEW') {\r\n      const previewData = data as PreviewData;\r\n      this.setPreview(previewData.regionIndex, previewData.imgData);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapture.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapture.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaplingScreenCapture.vue?vue&type=template&id=0b45e213&scoped=true&\"\nimport script from \"./SaplingScreenCapture.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaplingScreenCapture.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaplingScreenCapture.vue?vue&type=style&index=0&id=0b45e213&scoped=true&lang=scss&\"\nimport style1 from \"./SaplingScreenCapture.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b45e213\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VContainer,VDialog,VDivider,VIcon,VProgressCircular,VSpacer,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ads mx-3 pb-3\"},[_c('div',{staticClass:\"d-flex justify-center mt-3\"},[_c('a',{staticClass:\"d-block\",attrs:{\"href\":\"https://pinehosting.com/clientarea/aff.php?aff=298\",\"target\":\"_blank\",\"title\":\"Pine Hosting\"}},[_c('img',{attrs:{\"src\":\"/img/pine-hosting-ad.webp\"}})])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component({})\r\nexport default class Ads extends Vue {\r\n  @Prop({ type: Boolean }) readonly advertisementCookiesAccepted: boolean;\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ads.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ads.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Ads.vue?vue&type=template&id=98a071be&scoped=true&\"\nimport script from \"./Ads.vue?vue&type=script&lang=ts&\"\nexport * from \"./Ads.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Ads.vue?vue&type=style&index=0&id=98a071be&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98a071be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"simulator_progress-container\"},[(_vm.isActive)?_c('div',{staticStyle:{\"transition\":\"all 0.3s linear 0.2s\"},style:({\n      transform: _vm.progressPercents[0] === 100 ? 'translateY(-4px)' : 'none',\n      opacity: _vm.progressPercents[0] === 100 ? '0' : '1'\n    })},[(_vm.progressPercents[0] === undefined)?_c('v-progress-linear',{attrs:{\"color\":\"cyan\",\"value\":\"0\",\"buffer-value\":\"0\",\"stream\":\"\"}}):_vm._e(),(_vm.progressPercents[0] !== undefined)?_c('v-progress-linear',{attrs:{\"color\":\"cyan\"},model:{value:(_vm.progressPercents[0]),callback:function ($$v) {_vm.$set(_vm.progressPercents, 0, $$v)},expression:\"progressPercents[0]\"}}):_vm._e()],1):_vm._e(),(_vm.isActive && _vm.progressPercents.length >= 2)?_c('div',{staticStyle:{\"transition\":\"all 0.3s linear 0.2s\"},style:({\n      transform:\n        'translateY(' + (_vm.progressPercents[1] === 100 ? '-10px' : (_vm.progressPercents[0] === 100 ? '-5px' : '0') + ')'),\n      opacity: _vm.progressPercents[1] === 100 ? '0' : '1'\n    })},[(_vm.progressPercents[1] === undefined && _vm.progressPercents[0] === 100)?_c('v-progress-linear',{staticClass:\"mt-1px\",attrs:{\"color\":\"cyan\",\"value\":\"0\",\"buffer-value\":\"0\",\"stream\":\"\"}}):_vm._e(),(_vm.progressPercents[1] !== undefined || _vm.progressPercents[0] !== 100)?_c('v-progress-linear',{staticClass:\"mt-1px\",attrs:{\"color\":\"cyan\"},model:{value:(_vm.progressPercents[1]),callback:function ($$v) {_vm.$set(_vm.progressPercents, 1, $$v)},expression:\"progressPercents[1]\"}}):_vm._e()],1):_vm._e(),(_vm.isActive && _vm.progressPercents.length >= 3)?_c('div',{staticStyle:{\"transition\":\"all 0.3s linear 0.2s\"},style:({\n      transform:\n        'translateY(' +\n        (_vm.progressPercents[2] === 100\n          ? '-15px'\n          : _vm.progressPercents[1] === 100\n          ? '-10px'\n          : _vm.progressPercents[0] === 100\n          ? '-5px'\n          : '0') +\n        ')',\n      opacity: _vm.progressPercents[2] === 100 ? '0' : '1'\n    })},[(_vm.progressPercents[2] === undefined && _vm.progressPercents[1] === 100)?_c('v-progress-linear',{staticClass:\"mt-1px\",attrs:{\"color\":\"cyan\",\"value\":\"0\",\"buffer-value\":\"0\",\"stream\":\"\"}}):_vm._e(),(_vm.progressPercents[2] !== undefined || _vm.progressPercents[1] !== 100)?_c('v-progress-linear',{staticClass:\"mt-1px\",attrs:{\"color\":\"cyan\"},model:{value:(_vm.progressPercents[2]),callback:function ($$v) {_vm.$set(_vm.progressPercents, 2, $$v)},expression:\"progressPercents[2]\"}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class ProgressIndicator extends Vue {\r\n  @Prop({ type: Boolean }) readonly isActive: boolean;\r\n  @Prop({ type: Array }) readonly progressPercents: number[];\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressIndicator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressIndicator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProgressIndicator.vue?vue&type=template&id=1a18e9a8&scoped=true&\"\nimport script from \"./ProgressIndicator.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProgressIndicator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ProgressIndicator.vue?vue&type=style&index=0&id=1a18e9a8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a18e9a8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VProgressLinear})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visibleGroup !== null)?_c('div',{staticClass:\"group mx-auto\",class:[_vm.animationClass, { 'group--visible': _vm.isVisible, 'group--overflow': _vm.applyOverflow }],on:{\"click\":_vm.handleOverlayClick}},[_c('div',{ref:\"scrollContainer\",staticClass:\"group_container\"},[((_vm.visibleGroup && _vm.visibleGroup.mapList.length > 1) || _vm.$slots.message)?_c('div',{staticClass:\"group_helper-text-container\"},[_c('div',{staticClass:\"group_helper-text text-center pl-2 pr-2 d-none d-sm-block white--text\"},[(_vm.visibleGroup && _vm.visibleGroup.mapList.length > 1)?_c('div',[_vm._v(\" Here you can see all the different ways you can crossbreed the same selected Sapling. \")]):_vm._e(),(_vm.$slots.message)?_c('div',[(_vm.visibleGroup && _vm.visibleGroup.mapList.length > 1)?_c('v-divider',{staticClass:\"mt-2 mb-2\"}):_vm._e(),_vm._t(\"message\")],2):_vm._e()])]):_vm._e(),_c('div',{staticClass:\"group_map-list\"},_vm._l((_vm.visibleGroup ? _vm.visibleGroup.mapList : []),function(map,index){return _c('div',{key:(map.baseSapling ? map.baseSapling.toString() + '-' : '') +\n            map.crossbreedingSaplings.map(function (sapling) { return sapling.toString(); }).join(''),staticClass:\"group_map-container\"},[(_vm.visibleGroup && _vm.visibleGroup.mapList.length > 1)?_c('div',{staticClass:\"group_map-label mb-1 white--text\"},[_vm._v(\" \"+_vm._s(((index === 0 ? 'Best' : 'Alternative') + \" Option \" + (index > 0 ? index + 1 : '')))+\" \")]):_vm._e(),_c('SimulationMap',{key:(map.baseSapling ? map.baseSapling.toString() + '-' : '') +\n              map.crossbreedingSaplings.map(function (sapling) { return sapling.toString(); }).join(''),staticClass:\"group_map\",class:{\n            'group_map--highlighted': map === _vm.highlightedMap\n          },attrs:{\"map\":map,\"enable-tooltip\":\"\",\"enable-ripple\":_vm.enableMapSelection,\"enable-map-selection\":_vm.enableMapSelection,\"enable-composing-saplings-selection\":_vm.enableComposingSaplingsSelection,\"enable-geographical-direction-tips\":\"\"},on:{\"composing-sapling-selected\":_vm.handleComposingSaplingSelectedEvent},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.enableMapSelection && _vm.handleMapClick(map)}}})],1)}),0)]),_c('v-overlay',{attrs:{\"z-index\":\"6\",\"opacity\":_vm.$vuetify.theme.dark ? 0.95 : 0.85,\"value\":_vm.isVisible}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport SimulationMap from './SimulationMap.vue';\r\nimport { GeneticsMapGroup, GeneticsMap } from '@/services/crossbreeding-service/models';\r\n\r\n@Component({\r\n  components: { SimulationMap }\r\n})\r\nexport default class SimulationMapGroupBrowser extends Vue {\r\n  @Prop({ type: Object }) readonly group: GeneticsMapGroup | null;\r\n  @Prop({ type: Object }) readonly group2: GeneticsMapGroup | null;\r\n  @Prop({ type: Object }) readonly highlightedMap: GeneticsMap | null;\r\n  @Prop({ type: Boolean }) readonly enableMapSelection: boolean;\r\n  @Prop({ type: Boolean }) readonly enableComposingSaplingsSelection: boolean;\r\n\r\n  @Watch('group')\r\n  onGroupPropertyChanged(value: GeneticsMapGroup | null) {\r\n    if (value) {\r\n      this.applyOverflow = false;\r\n      this.visibleGroup = value;\r\n      this.animationClass = 'group--animate-slide-right';\r\n      this.onNextTickRerender(() => {\r\n        this.isVisible = true;\r\n        this.animationClass = 'group--animate-from-right';\r\n        setTimeout(() => {\r\n          this.applyOverflow = true;\r\n        }, 350);\r\n      });\r\n    } else {\r\n      this.isVisible = false;\r\n      this.animationClass = 'group--animate-slide-right';\r\n      this.applyOverflow = false;\r\n      setTimeout(() => {\r\n        this.visibleGroup = null;\r\n      }, 350);\r\n    }\r\n  }\r\n\r\n  @Watch('group2')\r\n  onGroup2PropertyChanged(value: GeneticsMapGroup | null) {\r\n    if (value) {\r\n      this.animationClass = 'group--animate-slide-left';\r\n      (this.$refs.scrollContainer as HTMLElement).scrollLeft = 0;\r\n      this.applyOverflow = false;\r\n      setTimeout(() => {\r\n        this.visibleGroup = value;\r\n        this.animationClass = 'group--animate-slide-right';\r\n        this.onNextTickRerender(() => {\r\n          this.animationClass = 'group--animate-from-right';\r\n          setTimeout(() => {\r\n            this.applyOverflow = true;\r\n          }, 350);\r\n        });\r\n      }, 350);\r\n    } else {\r\n      this.animationClass = 'group--animate-slide-right';\r\n      this.applyOverflow = false;\r\n      setTimeout(() => {\r\n        this.visibleGroup = this.group;\r\n        this.animationClass = 'group--animate-slide-left';\r\n        this.onNextTickRerender(() => {\r\n          this.animationClass = 'group--animate-from-left';\r\n          setTimeout(() => {\r\n            this.applyOverflow = true;\r\n          }, 350);\r\n        });\r\n      }, 350);\r\n    }\r\n  }\r\n\r\n  visibleGroup: GeneticsMapGroup | null = null;\r\n  animationClass: string | null = null;\r\n  isVisible = false;\r\n  applyOverflow = false;\r\n\r\n  handleMapClick(map: GeneticsMap) {\r\n    setTimeout(() => {\r\n      this.$emit('map-selected', map);\r\n    }, 200);\r\n  }\r\n\r\n  handleComposingSaplingSelectedEvent(group: GeneticsMapGroup) {\r\n    this.$emit('composing-sapling-selected', group);\r\n  }\r\n\r\n  handleOverlayClick() {\r\n    this.$emit('leave-group-browsing');\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroupBrowser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationMapGroupBrowser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimulationMapGroupBrowser.vue?vue&type=template&id=67ab3bb4&scoped=true&\"\nimport script from \"./SimulationMapGroupBrowser.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimulationMapGroupBrowser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SimulationMapGroupBrowser.vue?vue&type=style&index=0&id=67ab3bb4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ab3bb4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\ninstallComponents(component, {VDivider,VOverlay})\n","export function timeMsToTimeString(timeMs: number): string {\r\n  const hours = Math.floor(timeMs / 3600000);\r\n  const minutes = Math.floor((timeMs % 3600000) / 60000);\r\n  const seconds = (timeMs % 60000) / 1000;\r\n  const hoursPart = hours > 0 ? `${hours}h:` : '';\r\n  const minutesPart = hours > 0 || minutes > 0 ? `${hours > 0 && minutes < 10 ? '0' : ''}${minutes}m:` : '';\r\n  const secondsPart = `${(hours > 0 || minutes > 0) && seconds < 10 ? '0' : ''}${Math.floor(seconds)}s`;\r\n  return `${hoursPart}${minutesPart}${secondsPart}`;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column align-center px-5\"},[_c('div',[_vm._v(\"Highlighted Result\")]),_c('SimulationMap',{staticClass:\"mt-3\",attrs:{\"map\":_vm.map,\"enable-tooltip\":\"\",\"enable-composing-saplings-selection\":\"\",\"enable-geographical-direction-tips\":\"\"},on:{\"composing-sapling-selected\":_vm.handleHighlightComposingSaplingSelectedEvent}}),_c('v-btn',{staticClass:\"mt-4\",on:{\"click\":_vm.handleClearHighlightClick}},[_vm._v(\"Clear Highlight\")]),_c('div',{staticClass:\"pt-6\"},[(_vm.map && _vm.map.chance < 1)?_c('div',{staticClass:\"highlighted-map_tip mt-2 mb-2 px-3 px-sm-0\"},[_vm._v(\" Place plants with an \\\"E\\\" next to the \"),_c('v-icon',{attrs:{\"size\":\"large\"}},[_vm._v(\"mdi-compass-rose\")]),_vm._v(\" icon in the eastern most slots of the planter box, and plants with a \\\"W\\\" in the western most slots to influence the crossbreeding for the desired result. \"),_c('a',{staticClass:\"float-right ml-2\",attrs:{\"href\":\"https://discord.com/channels/959797097895460885/995943791494172714/1148151452083163156\",\"target\":\"_blank\"}},[_vm._v(\"learn more\")])],1):_vm._e(),(_vm.map && _vm.map.resultSapling.generationIndex > 1 && _vm.map.chance < 1)?_c('v-divider',{staticClass:\"highlighted-map_tip-divider\"}):_vm._e(),(_vm.map && _vm.map.resultSapling.generationIndex > 1)?_c('div',{staticClass:\"highlighted-map_tip mt-2 mb-2 px-3 px-sm-0\"},[_vm._v(\" The Sapling you selected comes from the \"),_c('strong',[_vm._v(_vm._s(_vm.map.resultSapling.generationIndex === 2 ? '2nd' : '3rd'))]),_vm._v(\" generation. To be able to crossbreed it, first you will need to acquire Saplings that it requires. Click on \"),_c('span',{staticClass:\"highlighted-map_highlight-guide\"},[_vm._v(\"highlighted\")]),_vm._v(\" Saplings to see how to crossbreed them. \")]):_vm._e(),(_vm.map && (_vm.map.resultSapling.generationIndex > 1 || _vm.map.chance < 1))?_c('v-divider',{staticClass:\"highlighted-map_tip-divider\"}):_vm._e(),_vm._m(0)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"highlighted-map_tip mt-2 mb-2 px-3 px-sm-0\"},[_c('strong',[_vm._v(\"#NUMBER\")]),_vm._v(\" indicates position of the Sapling in the gene list you provided. \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { GeneticsMapGroup, GeneticsMap } from '@/services/crossbreeding-service/models';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport SimulationMap from './SimulationMap.vue';\r\n\r\n@Component({ components: { SimulationMap } })\r\nexport default class HighlightedMap extends Vue {\r\n  @Prop({ type: GeneticsMap, required: true }) map: GeneticsMap;\r\n\r\n  handleClearHighlightClick() {\r\n    this.$emit('clear-highlight-clicked');\r\n  }\r\n\r\n  handleHighlightComposingSaplingSelectedEvent(group: GeneticsMapGroup) {\r\n    this.$emit('composing-sapling-selected', group);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightedMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightedMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HighlightedMap.vue?vue&type=template&id=17ebb372&scoped=true&\"\nimport script from \"./HighlightedMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./HighlightedMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HighlightedMap.vue?vue&type=style&index=0&id=17ebb372&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17ebb372\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDivider,VIcon})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport crossbreedingOrchestrator from '../services/crossbreeding-service/crossbreeding-orchestrator';\r\nimport SimulationResults from './SimulationResults.vue';\r\nimport SimulationMap from './SimulationMap.vue';\r\nimport Options from './Options.vue';\r\nimport GeneInputs from './GeneInputs.vue';\r\nimport SaplingScreenCapture from './SaplingScreenCapture.vue';\r\nimport {\r\n  GeneticsMap,\r\n  CrossbreedingOrchestratorEventListenerCallbackData,\r\n  GeneticsMapGroup,\r\n  SimulatorEventType\r\n} from '@/services/crossbreeding-service/models';\r\nimport Sapling from '@/models/sapling.model';\r\nimport goTo from 'vuetify/lib/services/goto';\r\nimport Ads from './Ads.vue';\r\nimport ProgressIndicator from './ProgressIndicator.vue';\r\nimport SimulationMapGroup from './SimulationMapGroup.vue';\r\nimport SimulationMapGroupBrowser from './SimulationMapGroupBrowser.vue';\r\nimport ApplicationOptions from '@/interfaces/application-options';\r\nimport { timeMsToTimeString } from '@/lib/time-utils';\r\nimport HighlightedMap from './HighlightedMap.vue';\r\n\r\n@Component({\r\n  components: {\r\n    SimulationResults,\r\n    SimulationMap,\r\n    Options,\r\n    GeneInputs,\r\n    SaplingScreenCapture,\r\n    ProgressIndicator,\r\n    SimulationMapGroup,\r\n    SimulationMapGroupBrowser,\r\n    Ads,\r\n    HighlightedMap\r\n  }\r\n})\r\nexport default class CrossbreedingSimulator extends Vue {\r\n  @Prop({ type: Boolean }) readonly functionalCookiesAccepted: boolean;\r\n  @Prop({ type: Boolean }) readonly advertisementCookiesAccepted: boolean;\r\n  @Prop({ type: String }) readonly selectedPlantTypeName: string;\r\n  progressPercents: number[] = [];\r\n  isSimulating = false;\r\n  showResultsPanel = false;\r\n  lastEstimatedTimeUpdateTimestamp = new Date().getTime();\r\n  numberOfGenerations = 0;\r\n  currentGenerationIndex = 1;\r\n  areInputsValid = false;\r\n  calcStartTime: number | null = null;\r\n  calcEndTime: number | null = null;\r\n  options: ApplicationOptions | null = null;\r\n  highlightedMap: GeneticsMap | null = null;\r\n  selectedBrowsingGroup: GeneticsMapGroup | null = null;\r\n  isSelectedBrowsingGroupFromHighlight = false;\r\n  selectedBrowsingGroup2: GeneticsMapGroup | null = null;\r\n  resultMapGroups: ReadonlyArray<GeneticsMapGroup> | null = null;\r\n  isScreenScanning = false;\r\n  appVersion = process.env.VUE_APP_VERSION;\r\n\r\n  get showHighlight() {\r\n    return this.highlightedMap !== null;\r\n  }\r\n\r\n  get calcTotalTime() {\r\n    if (this.calcStartTime && this.calcEndTime) {\r\n      const timeDiff = this.calcEndTime - this.calcStartTime;\r\n      return timeMsToTimeString(timeDiff);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  get shouldDisplayGenInfoOnMapBrowser() {\r\n    return (\r\n      this.isSelectedBrowsingGroupFromHighlight &&\r\n      this.selectedBrowsingGroup &&\r\n      !this.selectedBrowsingGroup2 &&\r\n      this.selectedBrowsingGroup.mapList[0].resultSapling.generationIndex > 1\r\n    );\r\n  }\r\n\r\n  get shouldDisplayGeoInfoOnMapBrowser() {\r\n    const shouldGroupDisplayGeoInfo = (grp: GeneticsMapGroup | null) =>\r\n      grp && (grp.mapList[0]?.chance < 1 || grp.mapList[1]?.chance < 1 || grp.mapList[2]?.chance < 1);\r\n    return (\r\n      shouldGroupDisplayGeoInfo(this.selectedBrowsingGroup) || shouldGroupDisplayGeoInfo(this.selectedBrowsingGroup2)\r\n    );\r\n  }\r\n\r\n  get isCalculatingLastGeneration() {\r\n    return this.isSimulating && this.currentGenerationIndex === this.options?.numberOfGenerations;\r\n  }\r\n\r\n  get hasProgressStartedOnCurrentGeneration() {\r\n    return this.progressPercents[this.currentGenerationIndex - 1] !== undefined;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    crossbreedingOrchestrator.addEventListener(this.onCrossbreedingServiceEvent);\r\n  }\r\n\r\n  mounted() {\r\n    this.options = (this.$refs.options as Options).getOptions();\r\n  }\r\n\r\n  onCrossbreedingServiceEvent(type: string, data: CrossbreedingOrchestratorEventListenerCallbackData) {\r\n    if (type === SimulatorEventType.PROGRESS_UPDATE) {\r\n      this.setProgress(data.generationIndex, data.progressPercent || 0);\r\n      if (data.estimatedTimeMs) {\r\n        this.updateEstimatedTime(data.estimatedTimeMs);\r\n      }\r\n    } else if (type === SimulatorEventType.PARTIAL_RESULTS || type === SimulatorEventType.DONE_GENERATION) {\r\n      const hadNoResultsBefore = this.resultMapGroups === null;\r\n      if (hadNoResultsBefore) {\r\n        this.showResultsPanel = true;\r\n        this.scrollToResults();\r\n      }\r\n      if (type === SimulatorEventType.PARTIAL_RESULTS) {\r\n        this.setData(data.mapGroups as GeneticsMapGroup[], false);\r\n      }\r\n      if (type === SimulatorEventType.DONE_GENERATION) {\r\n        this.setData(data.mapGroups as GeneticsMapGroup[], data.generationIndex === this.numberOfGenerations);\r\n        this.setProgress(data.generationIndex, 100);\r\n        this.currentGenerationIndex += 1;\r\n        this.updateEstimatedTime(null);\r\n      }\r\n    } else if (type === SimulatorEventType.DONE) {\r\n      this.calcEndTime = Date.now();\r\n      this.updateEstimatedTime(null);\r\n      this.updateTitle();\r\n\r\n      setTimeout(() => {\r\n        this.isSimulating = false;\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  setData(mapGroups: GeneticsMapGroup[], isFinalResult: boolean) {\r\n    // For displaying partial results cloning is required to prevent Vue from constantly observing the results.\r\n    this.resultMapGroups = Object.freeze(isFinalResult ? mapGroups : mapGroups.map((mapGroup) => mapGroup.clone()));\r\n  }\r\n\r\n  setProgress(generationIndex: number, progressPercent: number) {\r\n    const generationProgressIndex = generationIndex - 1;\r\n    // To decrease the number of updates on the UI we only update on change of the most significant decimal place.\r\n    const progressPercentWithOneDecimal = Number(progressPercent.toFixed(1));\r\n    if (this.progressPercents[generationProgressIndex] !== progressPercentWithOneDecimal) {\r\n      this.onNextTickRerender(() => {\r\n        Vue.set(this.progressPercents, generationProgressIndex, progressPercentWithOneDecimal);\r\n      });\r\n    }\r\n    const progressPercentWithNoDecimals = Math.round(progressPercent || 0);\r\n    this.updateTitle(generationIndex, progressPercentWithNoDecimals);\r\n  }\r\n\r\n  updateTitle(generationIndex?: number | undefined, progressPercent?: number | undefined) {\r\n    if (\r\n      (progressPercent === 100 && generationIndex === this.options?.numberOfGenerations) ||\r\n      generationIndex === undefined\r\n    ) {\r\n      document.title = 'Rust Breeder - Crossbreeding Optimizer';\r\n    } else {\r\n      document.title = `${progressPercent}% | GEN.${generationIndex}`;\r\n    }\r\n  }\r\n\r\n  updateEstimatedTime(estimatedTime: number | null) {\r\n    const currentTimestamp = new Date().getTime();\r\n    if (!estimatedTime || currentTimestamp - this.lastEstimatedTimeUpdateTimestamp > 250) {\r\n      this.$emit('estimated-time-updated', estimatedTime);\r\n      this.lastEstimatedTimeUpdateTimestamp = currentTimestamp;\r\n    }\r\n  }\r\n\r\n  handleSimulateClick() {\r\n    if (this.options) {\r\n      this.clearHighlight();\r\n      const deduplicatedSaplingGeneList = (this.$refs.geneInputs as GeneInputs).getDeduplicatedSaplingGeneList();\r\n      (this.$refs.simulationResults as SimulationResults)?.resetPage();\r\n      this.numberOfGenerations = this.options.numberOfGenerations;\r\n      this.progressPercents = new Array(this.options.numberOfGenerations);\r\n      this.currentGenerationIndex = 1;\r\n      this.resultMapGroups = null;\r\n      this.calcStartTime = Date.now();\r\n      this.calcEndTime = null;\r\n      crossbreedingOrchestrator.simulateBestGenetics(\r\n        deduplicatedSaplingGeneList.map((geneString, index) => new Sapling(geneString, 0, index)),\r\n        undefined,\r\n        this.options\r\n      );\r\n      this.isSimulating = true;\r\n\r\n      if (this.options.autoSaveInputSets) {\r\n        (this.$refs.geneInputs as GeneInputs).storeCurrentSet();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSkipClick() {\r\n    crossbreedingOrchestrator.skipToNextGeneration();\r\n  }\r\n\r\n  handleStopSimulationClick() {\r\n    this.isSimulating = false;\r\n    this.updateEstimatedTime(null);\r\n    this.updateTitle();\r\n    crossbreedingOrchestrator.cancelSimulation();\r\n  }\r\n\r\n  handleSaplingScannedEvent(value: string) {\r\n    (this.$refs.geneInputs as GeneInputs).handleSaplingScannedEvent(value);\r\n  }\r\n\r\n  handleInputsValidityChange(valid: boolean) {\r\n    this.areInputsValid = valid;\r\n  }\r\n\r\n  handleClearHighlightClick() {\r\n    this.clearHighlight();\r\n  }\r\n\r\n  clearHighlight() {\r\n    this.highlightedMap = null;\r\n  }\r\n\r\n  handleMapSelectedEvent(map: GeneticsMap) {\r\n    this.highlightedMap = map;\r\n    this.selectedBrowsingGroup = null;\r\n    this.onNextTickRerender(() => {\r\n      const rect = (this.$refs.highlightedMap as HTMLElement)?.getBoundingClientRect();\r\n      const topDistance = rect.top + rect.height / 2 + window.scrollY - window.innerHeight / 2;\r\n      goTo(topDistance, { duration: 200 });\r\n    });\r\n  }\r\n\r\n  handleGroupSelectedEvent(group: GeneticsMapGroup) {\r\n    this.isSelectedBrowsingGroupFromHighlight = false;\r\n    this.selectedBrowsingGroup = group;\r\n  }\r\n\r\n  handleHighlightComposingSaplingSelectedEvent(group: GeneticsMapGroup) {\r\n    this.isSelectedBrowsingGroupFromHighlight = true;\r\n    this.selectedBrowsingGroup = group;\r\n  }\r\n\r\n  handleBrowsingGroupComposingSaplingSelected(group: GeneticsMapGroup) {\r\n    this.selectedBrowsingGroup2 = group;\r\n  }\r\n\r\n  handleBrowserLeaveEvent() {\r\n    if (this.selectedBrowsingGroup2) {\r\n      this.selectedBrowsingGroup2 = null;\r\n    } else {\r\n      this.selectedBrowsingGroup = null;\r\n    }\r\n  }\r\n\r\n  handleOptionsSetEvent(options: ApplicationOptions) {\r\n    this.options = options;\r\n  }\r\n\r\n  scrollToResults() {\r\n    setTimeout(() => {\r\n      const rect = (this.$refs.results as HTMLElement)?.getBoundingClientRect();\r\n      goTo(rect.top - 64, { duration: 300 });\r\n    }, 200);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrossbreedingSimulator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrossbreedingSimulator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CrossbreedingSimulator.vue?vue&type=template&id=27c32a5f&scoped=true&\"\nimport script from \"./CrossbreedingSimulator.vue?vue&type=script&lang=ts&\"\nexport * from \"./CrossbreedingSimulator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CrossbreedingSimulator.vue?vue&type=style&index=0&id=27c32a5f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27c32a5f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VDivider,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('AboutButton'),_c('v-btn',{staticClass:\"indigo accent-2 white--text ma-1\",attrs:{\"href\":\"https://discord.gg/Va5475pqFw\",\"target\":\"_blank\"}},[_vm._v(\"Discord \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-discord \")])],1),_c('v-btn',{staticClass:\"primary white--text ma-1\",attrs:{\"href\":\"https://donorbox.org/rust-crossbreeding-optimizer?default_interval=o\",\"target\":\"_blank\"}},[_vm._v(\"Donate\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\"},'v-btn',attrs,false),on),[_vm._v(\" About \")])]}}]),model:{value:(_vm.isDialogOpen),callback:function ($$v) {_vm.isDialogOpen=$$v},expression:\"isDialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_c('h3',[_vm._v(\"About\")])]),_c('v-card-text',[_c('article',{staticClass:\"mt-2\"},[_c('p',[_vm._v(\"Hi. I hope you're enjoying the app :).\")]),_c('p',[_vm._v(\" I made it, because crossbreeding every wipe without an app was exhausting. \")]),_c('p',[_vm._v(\" If you have some feedback or need help, you can reach me on my \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://discord.gg/Va5475pqFw\"}},[_vm._v(\"Discord\")]),_vm._v(\" server. \")]),_c('p',[_vm._v(\" If you wish to check out the code or collaborate here's the \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/wojciechSlodziak/rust-breeder\"}},[_vm._v(\"GitHub page\")]),_vm._v(\". \")]),_c('p',[_vm._v(\" If you would like to show your support for my work and help cover the expenses, you can \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://donorbox.org/rust-crossbreeding-optimizer?default_interval=o\"}},[_vm._v(\"donate\")]),_vm._v(\". \")]),_c('p',[_vm._v(\"Rust Breeder is not affilated with Facepunch.\")])])]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class AboutButton extends Vue {\r\n  isDialogOpen = false;\r\n\r\n  closeDialog() {\r\n    this.isDialogOpen = false;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutButton.vue?vue&type=template&id=37f9dc5d&\"\nimport script from \"./AboutButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AboutButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport AboutButton from './AboutButton.vue';\r\n\r\n@Component({\r\n  components: {\r\n    AboutButton\r\n  }\r\n})\r\nexport default class InfoButtons extends Vue {}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoButtons.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoButtons.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InfoButtons.vue?vue&type=template&id=4cb1b2c0&scoped=true&\"\nimport script from \"./InfoButtons.vue?vue&type=script&lang=ts&\"\nexport * from \"./InfoButtons.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cb1b2c0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isSnackbarOpen && !_vm.isManageModalOpen)?_c('v-btn',{staticClass:\"cookie-consent_remanage-button\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.handleCookieButtonClick}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\" mdi-cookie \")])],1):_vm._e(),_c('v-snackbar',{attrs:{\"multi-line\":\"\",\"timeout\":\"-1\",\"bottom\":\"\"},model:{value:(_vm.isSnackbarOpen),callback:function ($$v) {_vm.isSnackbarOpen=$$v},expression:\"isSnackbarOpen\"}},[_c('div',{staticClass:\"d-flex\"},[_c('v-icon',{staticClass:\"cookie-consent_snackbar-cookie-icon hidden-xs-only\",attrs:{\"large\":\"\"}},[_vm._v(\" mdi-cookie \")]),_c('div',[_vm._v(\" This site uses cookies and local storage to deliver its services and to analyze traffic. Functionalities like previously calculated genes and saving your preferred options require your acceptance to work. \")]),_c('div',{staticClass:\"cookie-consent_actions flex-column d-flex ml-2\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.handleAcceptAllClick}},[_vm._v(\" Accept all \")]),_c('v-btn',{on:{\"click\":_vm.handleDeclineAllClick}},[_vm._v(\" Decline all \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.handleManageClick}},[_vm._v(\" Manage \")])],1)],1)]),_c('v-dialog',{attrs:{\"width\":\"600\"},on:{\"click:outside\":_vm.handleManageModalClose},model:{value:(_vm.isManageModalOpen),callback:function ($$v) {_vm.isManageModalOpen=$$v},expression:\"isManageModalOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline px-3 px-sm-5\",attrs:{\"primary-title\":\"\"}},[_c('h2',{staticClass:\"text-h5\"},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-cookie\")]),_vm._v(\" Manage Your Storage Preferences \")],1)]),_c('v-card-text',[_c('v-switch',{attrs:{\"disabled\":\"\",\"label\":\"Enable Essential Cookies\",\"hint\":\"These cookies are necessary to track your Storage preferences.\",\"persistent-hint\":\"\"},model:{value:(_vm.essentialCookiesAccepted),callback:function ($$v) {_vm.essentialCookiesAccepted=$$v},expression:\"essentialCookiesAccepted\"}}),_c('v-switch',{attrs:{\"label\":\"Allow Functional Cookies and Local Storage\",\"hint\":\"Controls whether functionalities like previously calculated genes and saving your preferred options are enabled.\",\"persistent-hint\":\"\"},model:{value:(_vm.currentFunctionalCookiesAccepted),callback:function ($$v) {_vm.currentFunctionalCookiesAccepted=$$v},expression:\"currentFunctionalCookiesAccepted\"}}),_c('v-switch',{attrs:{\"label\":\"Allow Analytics Cookies\",\"hint\":\"Enables Google Analytics to let me better understand how the page is used to more effectively update it in the future.\",\"persistent-hint\":\"\"},model:{value:(_vm.currentAnalyticsCookiesAccepted),callback:function ($$v) {_vm.currentAnalyticsCookiesAccepted=$$v},expression:\"currentAnalyticsCookiesAccepted\"}}),_c('v-switch',{attrs:{\"label\":\"Allow Advertising Cookies\",\"hint\":\"Enables cookies required for showing ads and supporting the page.\",\"persistent-hint\":\"\"},model:{value:(_vm.currentAdvertisementCookiesAccepted),callback:function ($$v) {_vm.currentAdvertisementCookiesAccepted=$$v},expression:\"currentAdvertisementCookiesAccepted\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.handleManageModalClose}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.handleSavePreferences}},[_vm._v(\" Save Preferences \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport { getCookie, getCookies, setCookie, removeCookie } from 'typescript-cookie';\r\nimport { OPTIONS_COOKIE_PREFIX } from './Options.vue';\r\n\r\nexport type CookiesUpdateEvent = {\r\n  functionalCookiesAccepted: boolean;\r\n  analyticsCookiesAccepted: boolean;\r\n  advertisementCookiesAccepted: boolean;\r\n};\r\n\r\nconst CONSENTS_VERSION = 1;\r\nconst PREF_COOKIE_NAME_PREFIX = `rb-cookie-pref-v${CONSENTS_VERSION}`;\r\nconst STORAGE_PREFERENCE_DECIDED_COOKIE_NAME = `${PREF_COOKIE_NAME_PREFIX}-storage-preference-decided`;\r\nconst FUNCTIONAL_GROUP_COOKIE_NAME = `${PREF_COOKIE_NAME_PREFIX}-functional-cookies-and-storage`;\r\nconst ANALYTICS_GROUP_COOKIE_NAME = `${PREF_COOKIE_NAME_PREFIX}-analytics-cookies`;\r\nconst ADVERTISEMENT_GROUP_COOKIE_NAME = `${PREF_COOKIE_NAME_PREFIX}-advertisement-cookies`;\r\n\r\nconst FUNCTIONAL_DECLINE_CONFIRM_MODAL_TEXT = 'You might lose previously saved genes or your saved preferred options.';\r\nconst FUNCTIONAL_DECLINE_CONFIRM_MODAL_OPTIONS = {\r\n  title: 'Warning',\r\n  buttonTrueText: 'Proceed Anyway',\r\n  buttonFalseText: 'Cancel'\r\n};\r\n\r\nconst PREFERENCE_EXPIRATION_DAYS = 182;\r\nconst CHOICE_EXPIRATION_DAYS = 365;\r\n\r\n@Component\r\nexport default class CookieConsent extends Vue {\r\n  isSnackbarOpen = false;\r\n  isManageModalOpen = false;\r\n  arePreferencesSet = false;\r\n\r\n  essentialCookiesAccepted = true;\r\n\r\n  functionalCookiesAccepted = getCookie(FUNCTIONAL_GROUP_COOKIE_NAME) === 'true' || false;\r\n  analyticsCookiesAccepted = getCookie(ANALYTICS_GROUP_COOKIE_NAME) === 'true' || false;\r\n  advertisementCookiesAccepted = getCookie(ADVERTISEMENT_GROUP_COOKIE_NAME) === 'true' || false;\r\n\r\n  // These properties hold the temporary decision before it is commited.\r\n  currentFunctionalCookiesAccepted = this.functionalCookiesAccepted;\r\n  currentAnalyticsCookiesAccepted = this.analyticsCookiesAccepted;\r\n  currentAdvertisementCookiesAccepted = this.advertisementCookiesAccepted;\r\n\r\n  mounted() {\r\n    this.arePreferencesSet = getCookie(STORAGE_PREFERENCE_DECIDED_COOKIE_NAME) === 'true';\r\n    if (this.arePreferencesSet) {\r\n      this.fireCookieStateUpdateEvent();\r\n\r\n      // Refresh the duration on the choices so that they are not lost even if User is prompted with\r\n      // the Cookie Consent banner again. Tracking choices for longer will let the User keep his stored data\r\n      // in functionalities like saved genes and persistent options if he decides to keep the functional group enabled.\r\n      this.setGroupChoiceCookies();\r\n    } else {\r\n      this.isSnackbarOpen = true;\r\n    }\r\n  }\r\n\r\n  handleAcceptAllClick() {\r\n    this.trackPreferencesSet();\r\n    this.acceptFunctionalCookies();\r\n    this.acceptAnalyticsCookies();\r\n    this.acceptAdvertisementCookies();\r\n    this.fireCookieStateUpdateEvent();\r\n    this.isSnackbarOpen = false;\r\n  }\r\n\r\n  handleDeclineAllClick() {\r\n    this.isSnackbarOpen = false;\r\n    this.checkIfNeedsConfirmationModal(true).then((confirmed) => {\r\n      if (confirmed) {\r\n        this.trackPreferencesSet();\r\n        this.declineFunctionalCookies();\r\n        this.declineAnalyticsCookies();\r\n        this.declineAdvertisementCookies();\r\n        this.fireCookieStateUpdateEvent();\r\n        this.isSnackbarOpen = false;\r\n      } else {\r\n        this.isSnackbarOpen = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  handleManageClick() {\r\n    this.isSnackbarOpen = false;\r\n    this.isManageModalOpen = true;\r\n  }\r\n\r\n  handleCookieButtonClick() {\r\n    this.isManageModalOpen = true;\r\n  }\r\n\r\n  handleSavePreferences() {\r\n    this.isManageModalOpen = false;\r\n    this.checkIfNeedsConfirmationModal(this.currentFunctionalCookiesAccepted === false).then((confirmed) => {\r\n      if (confirmed) {\r\n        this.trackPreferencesSet();\r\n\r\n        this.functionalCookiesAccepted = this.currentFunctionalCookiesAccepted;\r\n        this.analyticsCookiesAccepted = this.currentAnalyticsCookiesAccepted;\r\n        this.advertisementCookiesAccepted = this.currentAdvertisementCookiesAccepted;\r\n\r\n        this.setGroupChoiceCookies();\r\n\r\n        this.fireCookieStateUpdateEvent();\r\n      } else {\r\n        this.isManageModalOpen = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  setGroupChoiceCookies() {\r\n    if (this.functionalCookiesAccepted) {\r\n      this.acceptFunctionalCookies();\r\n    } else {\r\n      this.declineFunctionalCookies();\r\n    }\r\n\r\n    if (this.analyticsCookiesAccepted) {\r\n      this.acceptAnalyticsCookies();\r\n    } else {\r\n      this.declineAnalyticsCookies();\r\n    }\r\n\r\n    if (this.advertisementCookiesAccepted) {\r\n      this.acceptAdvertisementCookies();\r\n    } else {\r\n      this.declineAdvertisementCookies();\r\n    }\r\n  }\r\n\r\n  checkIfNeedsConfirmationModal(willDeclineFunctionalCookies: boolean) {\r\n    return this.functionalCookiesAccepted && willDeclineFunctionalCookies\r\n      ? this.$confirm(FUNCTIONAL_DECLINE_CONFIRM_MODAL_TEXT, FUNCTIONAL_DECLINE_CONFIRM_MODAL_OPTIONS)\r\n      : Promise.resolve(true);\r\n  }\r\n\r\n  handleManageModalClose() {\r\n    this.isManageModalOpen = false;\r\n\r\n    // Since User closed the modal without saving his preference we need to undo his change.\r\n    this.currentFunctionalCookiesAccepted = this.functionalCookiesAccepted;\r\n    this.currentAnalyticsCookiesAccepted = this.analyticsCookiesAccepted;\r\n\r\n    if (!this.arePreferencesSet) {\r\n      this.isSnackbarOpen = true;\r\n    }\r\n  }\r\n\r\n  trackPreferencesSet() {\r\n    this.arePreferencesSet = true;\r\n    setCookie(STORAGE_PREFERENCE_DECIDED_COOKIE_NAME, true, { expires: PREFERENCE_EXPIRATION_DAYS });\r\n  }\r\n\r\n  acceptFunctionalCookies() {\r\n    this.functionalCookiesAccepted = true;\r\n    this.currentFunctionalCookiesAccepted = this.functionalCookiesAccepted;\r\n    setCookie(FUNCTIONAL_GROUP_COOKIE_NAME, this.functionalCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n  }\r\n\r\n  declineFunctionalCookies() {\r\n    this.functionalCookiesAccepted = false;\r\n    this.currentFunctionalCookiesAccepted = this.functionalCookiesAccepted;\r\n    setCookie(FUNCTIONAL_GROUP_COOKIE_NAME, this.functionalCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n\r\n    this.clearFunctionalCookiesAndStorage();\r\n  }\r\n\r\n  acceptAnalyticsCookies() {\r\n    this.analyticsCookiesAccepted = true;\r\n    this.currentAnalyticsCookiesAccepted = this.analyticsCookiesAccepted;\r\n    setCookie(ANALYTICS_GROUP_COOKIE_NAME, this.analyticsCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n  }\r\n\r\n  declineAnalyticsCookies() {\r\n    this.analyticsCookiesAccepted = false;\r\n    this.currentAnalyticsCookiesAccepted = this.analyticsCookiesAccepted;\r\n    setCookie(ANALYTICS_GROUP_COOKIE_NAME, this.analyticsCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n    this.clearGoogleCookies('_', '__');\r\n  }\r\n\r\n  acceptAdvertisementCookies() {\r\n    this.advertisementCookiesAccepted = true;\r\n    this.currentAdvertisementCookiesAccepted = this.advertisementCookiesAccepted;\r\n    setCookie(ADVERTISEMENT_GROUP_COOKIE_NAME, this.advertisementCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n  }\r\n\r\n  declineAdvertisementCookies() {\r\n    this.advertisementCookiesAccepted = false;\r\n    this.currentAdvertisementCookiesAccepted = this.advertisementCookiesAccepted;\r\n    setCookie(ADVERTISEMENT_GROUP_COOKIE_NAME, this.advertisementCookiesAccepted, { expires: CHOICE_EXPIRATION_DAYS });\r\n  }\r\n\r\n  fireCookieStateUpdateEvent() {\r\n    const eventData: CookiesUpdateEvent = {\r\n      functionalCookiesAccepted: this.functionalCookiesAccepted,\r\n      analyticsCookiesAccepted: this.analyticsCookiesAccepted,\r\n      advertisementCookiesAccepted: this.advertisementCookiesAccepted\r\n    };\r\n    this.$emit('cookies-updated', eventData);\r\n  }\r\n\r\n  clearFunctionalCookiesAndStorage() {\r\n    Object.keys(getCookies())\r\n      .filter((cookieName) => cookieName.startsWith(OPTIONS_COOKIE_PREFIX))\r\n      .forEach((cookieName) => {\r\n        removeCookie(cookieName);\r\n      });\r\n\r\n    // Clears localStorage, which is set by PreviousGenes component to show calculation history.\r\n    localStorage.clear();\r\n  }\r\n\r\n  clearGoogleCookies(startsWith: string, notStartsWith?: string) {\r\n    // GA sets cookkies on .domain.com so we need to find this value from the current domain.\r\n    const lastDomainDotIndex = location.hostname.lastIndexOf('.');\r\n    if (lastDomainDotIndex !== -1) {\r\n      const secondToLastDomainDotIndex = location.hostname.lastIndexOf('.', lastDomainDotIndex - 1);\r\n      const gaDomain = location.hostname.substring(secondToLastDomainDotIndex, location.hostname.length);\r\n      Object.keys(getCookies())\r\n        .filter(\r\n          (cookieName) =>\r\n            cookieName.startsWith(startsWith) && (notStartsWith ? !cookieName.startsWith(notStartsWith) : true)\r\n        )\r\n        .forEach((cookieName) => {\r\n          removeCookie(cookieName, { domain: gaDomain });\r\n        });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CookieConsent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CookieConsent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CookieConsent.vue?vue&type=template&id=2b8cee06&scoped=true&\"\nimport script from \"./CookieConsent.vue?vue&type=script&lang=ts&\"\nexport * from \"./CookieConsent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CookieConsent.vue?vue&type=style&index=0&id=2b8cee06&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b8cee06\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VIcon,VSnackbar,VSpacer,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo_container d-flex align-center\",class:{\n    'logo_container--expanded': _vm.isExpanded,\n    'logo_container--animate-in': _vm.animateIn && !_vm.$vuetify.breakpoint.xsOnly,\n    'logo_container--animate-heartbeat': _vm.animateHeartbeat\n  }},[_c('v-tooltip',{attrs:{\"open-delay\":\"400\",\"z-index\":\"1001\",\"max-width\":\"600\",\"open-on-focus\":false,\"disabled\":_vm.isExpanded || _vm.$vuetify.breakpoint.xsOnly,\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n  var on = ref.on;\n  var attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({ref:\"logoSelector\",staticClass:\"logo_image-container d-flex align-center\"},'div',attrs,false),on),_vm._l((_vm.imagesNames),function(imageName,index){return _c('button',{key:imageName,staticClass:\"logo_image-button\",class:{\n            'logo_image-button--hidden': _vm.activeImageName !== imageName && !_vm.isExpanded\n          },attrs:{\"data-index\":index},on:{\"click\":function($event){return _vm.handleImageClick(imageName)}}},[((index === 0 && !_vm.isExpanded && !_vm.isClosing) || index > 0)?_c('img',{ref:imageName,refInFor:true,attrs:{\"src\":(\"/img/\" + imageName + \".png\")}}):_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\" mdi-chevron-right \")])],1)}),0)]}}])},[_c('span',[_vm._v(\"Select a type of plant to keep track of what you are crossbreeding. Selection \"),_c('strong',[_vm._v(\"does not\")]),_vm._v(\" impact the results of the calculation.\")])]),_c('v-toolbar-title',{staticClass:\"logo-selector_title overflow-visible\"},[_c('a',{attrs:{\"href\":\"/\",\"title\":\"RustBreeder\"}},[_vm._v(\" RustBreeder \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport eventBus, { GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED } from '@/lib/global-event-bus';\r\nimport { Component, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class LogoSelector extends Vue {\r\n  imagesNames = [\r\n    'mixed-berry',\r\n    'red-berry',\r\n    'blue-berry',\r\n    'yellow-berry',\r\n    'green-berry',\r\n    'white-berry',\r\n    'hemp',\r\n    'potato',\r\n    'pumpkin',\r\n    'corn'\r\n  ];\r\n  activeImageName = this.imagesNames[0];\r\n  isExpanded = false;\r\n  animateIn = false;\r\n  isClosing = false;\r\n  animateHeartbeat = false;\r\n\r\n  mounted() {\r\n    if (document.hidden) {\r\n      const functionRef = () => {\r\n        this.animateLogo();\r\n        document.removeEventListener('visibilitychange', functionRef);\r\n      };\r\n      document.addEventListener('visibilitychange', functionRef);\r\n    } else {\r\n      this.animateLogo();\r\n    }\r\n\r\n    eventBus.$on(GLOBAL_EVENT_SELECTED_PLANT_TYPE_CHANGED, this.selectPlant);\r\n  }\r\n\r\n  get isPlantSelected() {\r\n    return this.activeImageName !== this.imagesNames[0];\r\n  }\r\n\r\n  private animateLogo() {\r\n    this.onNextTickRerender(() => {\r\n      this.animateIn = true;\r\n      setTimeout(() => {\r\n        this.animateIn = false;\r\n        this.animateHeartbeat = true;\r\n        setTimeout(() => {\r\n          this.animateHeartbeat = false;\r\n        }, 1050);\r\n      }, 800);\r\n    });\r\n  }\r\n\r\n  handleImageClick(imageName: string) {\r\n    if (this.isExpanded) {\r\n      this.selectPlant(imageName);\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  open() {\r\n    this.isExpanded = true;\r\n    document.addEventListener('mousedown', this.onDocumentClick);\r\n  }\r\n\r\n  close() {\r\n    this.isExpanded = false;\r\n    this.isClosing = true;\r\n    setTimeout(() => {\r\n      this.isClosing = false;\r\n    }, 250);\r\n    document.removeEventListener('mousedown', this.onDocumentClick);\r\n  }\r\n\r\n  onDocumentClick(event: MouseEvent) {\r\n    if (!event.composedPath().includes(this.$refs.logoSelector as HTMLElement)) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  selectPlant(selectedPlantTypeName: string) {\r\n    const imageName = selectedPlantTypeName || this.imagesNames[0];\r\n    this.activeImageName = imageName;\r\n    this.setImageAsFavicon(imageName);\r\n    this.$emit('plant-type-change', selectedPlantTypeName);\r\n  }\r\n\r\n  private setImageAsFavicon(imageName: string) {\r\n    const link = document.querySelector(\"link[rel~='icon']\") as HTMLAnchorElement;\r\n    if (link) {\r\n      link.href = `/img/${imageName}.png`;\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LogoSelector.vue?vue&type=template&id=f819efde&scoped=true&\"\nimport script from \"./LogoSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./LogoSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LogoSelector.vue?vue&type=style&index=0&id=f819efde&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f819efde\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VIcon,VToolbarTitle,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport CrossbreedingSimulator from './components/CrossbreedingSimulator.vue';\r\nimport InfoButtons from './components/InfoButtons.vue';\r\nimport CookieConsent, { CookiesUpdateEvent } from './components/CookieConsent.vue';\r\nimport LogoSelector from './components/LogoSelector.vue';\r\nimport 'cookie-store';\r\nimport { timeMsToTimeString } from './lib/time-utils';\r\n\r\n@Component({\r\n  components: {\r\n    LogoSelector,\r\n    CrossbreedingSimulator,\r\n    InfoButtons,\r\n    CookieConsent\r\n  }\r\n})\r\nexport default class App extends Vue {\r\n  functionalCookiesAccepted = false;\r\n  advertisementCookiesAccepted = false;\r\n  selectedPlantTypeName: string | null = null;\r\n  estimatedTime: number | null = null;\r\n\r\n  get calcEstimatedTime() {\r\n    if (this.estimatedTime) {\r\n      return timeMsToTimeString(this.estimatedTime);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleCookiesUpdated(cookiesState: CookiesUpdateEvent) {\r\n    this.functionalCookiesAccepted = cookiesState.functionalCookiesAccepted;\r\n    this.advertisementCookiesAccepted = cookiesState.advertisementCookiesAccepted;\r\n\r\n    if (cookiesState.analyticsCookiesAccepted) {\r\n      // eslint-disable-next-line no-undef\r\n      enableGtag();\r\n    }\r\n  }\r\n\r\n  handlePlantTypeChange(name: string) {\r\n    this.selectedPlantTypeName = name;\r\n  }\r\n\r\n  handleEstimatedTimeUpdated(value: number | null) {\r\n    this.estimatedTime = value;\r\n  }\r\n}\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=12535973&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VAppBar,VIcon,VMain})\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify';\r\nimport colors from 'vuetify/lib/util/colors';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n  theme: {\r\n    options: { customProperties: true },\r\n    dark: true,\r\n    themes: {\r\n      dark: {\r\n        primary: colors.cyan.darken2,\r\n        cardHighlight: '#FFFFFF'\r\n      },\r\n      light: {\r\n        primary: colors.cyan.darken2,\r\n        cardHighlight: colors.green.accent4\r\n      }\r\n    }\r\n  }\r\n});\r\n","import 'reflect-metadata';\r\nimport Vue from 'vue';\r\nimport App from './App.vue';\r\nimport vuetify from './plugins/vuetify';\r\nimport VuetifyConfirm from 'vuetify-confirm';\r\n\r\nVue.config.productionTip = false;\r\nVue.mixin({\r\n  methods: {\r\n    onNextTickRerender: function(callback) {\r\n      this.$nextTick(() => {\r\n        requestAnimationFrame(() => {\r\n          requestAnimationFrame(callback);\r\n        });\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\nVue.use(VuetifyConfirm, { vuetify });\r\n\r\nnew Vue({\r\n  vuetify,\r\n  render: (h: Function) => h(App)\r\n}).$mount('#app');\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaplingScreenCapturePreview.vue?vue&type=style&index=0&id=4261ef65&scoped=true&lang=scss&\""],"sourceRoot":""}